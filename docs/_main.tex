% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\title{PSY6422 Data Management and Visualisation}
\author{Tom Stafford}
\date{2023-01-16}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={PSY6422 Data Management and Visualisation},
  pdfauthor={Tom Stafford},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}

\newenvironment{danger}
    {
    \hline\\
    }
    { 
    \\\\\hline
    }
    
\newenvironment{warning}
    {
    \hline\\
    }
    { 
    \\\\\hline
    }
    
\newenvironment{info}
    {
    \hline\\
    }
    { 
    \\\\\hline
    }
    
\newenvironment{try}
    {
    \hline\\
    }
    { 
    \\\\\hline
    }
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{2}
\tableofcontents
}
\hypertarget{module-overview}{%
\chapter*{Module Overview}\label{module-overview}}


PSY6422 Data Management and Visualisation is part of the \href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters/data-science}{MSc in Psychological Research Methods with Data Science} taught at The University of Sheffield by \href{http://tomstafford.staff.shef.ac.uk/}{Tom Stafford}. See here for more on the different courses which offer \href{notes.html\#data-science-sheffield}{data science, at the University of Sheffield}

\emph{Spring 2022: These pages are evolving as I teach the course (in person rather than online this year!). If you find any inconsistencies please let me know. Check out the \href{class-of-2021.html}{class of 2021 showcase} from last academic year}

\hypertarget{motivation}{%
\section{Motivation}\label{motivation}}

Psychological science is increasingly reliant on complex computational and statistical methods to make sense of rich behavioural data. This course aims to teach the skills which support creating robust and repoducibile analyses with such methods and data.

As well as supporting sophisticated data visualisation, we aim to train you in reproducible workflows - meaning that you can reliably re-create all steps of an analysis using scripts that automate all steps between raw data and the final visualisation.

As well as being \emph{reproducible} (by you or other researchers) your work should be \emph{legible} (to Future You, or other researchers) and \emph{scalable} (it should work as well on 400,000 data points as on 40).

You will need help to do this. Therefore you will use Open Source solutions - these are analysis products which have a worldwide community of people using them, and the infrastructure which supports sharing advice and solutions.

In practice, this means you are going to start by using R (you could use \href{https://tomstafford.github.io/psy6422/appendices.html\#python}{Python}, but this module is based on R).

\hypertarget{course-aims}{%
\section{Course Aims}\label{course-aims}}

The curriculum is updated each year, but you can get the general idea of the order the topics are covered from the leftbar. By the end of this course you will have:

\begin{itemize}
\tightlist
\item
  Been trained in data project management -- including fundamentals of data storage, syncronisation and sharing -- and the importance of reproducible workflows
\item
  Used the statistical programming language R, and RStudio, for data management, analysis and visualisation
\item
  Been introduced to fundamental programming concepts
\item
  Prepared data project documentation using RMarkdown
\item
  Had an introduction to version control using git
\item
  Published data projects to the web via github pages
\end{itemize}

There is also the opportunity to cover advanced topics, either in class or as part of your project. These could include

\begin{itemize}
\tightlist
\item
  Interactive visualisation with Shiny apps
\item
  SQL
\item
  webscraping
\item
  animated / roll-over visualisation
\end{itemize}

You may particularly enjoy the \href{extra-reading.html}{Reading list}

\hypertarget{the-module-mini-project}{%
\subsection{The Module mini-project}\label{the-module-mini-project}}

The bulk of the course assessment is to conduct and publish your own analysis project. By doing this you will have experience of combining all the skills taught on the course within a singe project. This will take a data visualisation from start to finish - from raw data, through data cleaning and documentation to sharing your code and the resulting visualisation on the web.

The intention with the assessment is to ensure that every student leaves the course with something they are proud to put in their portfolio of work, something which shows what they can do and which helps with future job or course applications.

See here for \href{module-project.html}{more on the nature of your module project}, see here for examples from previous years: \href{class-of-2020.html}{class of 2020}, \href{class-of-2021.html}{class of 2021}..

\hypertarget{resources-for-current-students}{%
\section{Resources for current students}\label{resources-for-current-students}}

\href{https://drive.google.com/drive/folders/1sDmbrTfKpiz2Y02R17ajLPkJV1XSxvJD?usp=sharing}{Google Drive}:

Includes slides and other resources, as well as these specific documents

\begin{itemize}
\tightlist
\item
  \href{https://docs.google.com/spreadsheets/d/1YBbaaFursDBg-aGvJ32WJd-IinPM7oml-tPMnVZIEA0/edit?usp=sharing}{Timetable}
\item
  \href{https://docs.google.com/spreadsheets/d/1oTJKI675ijCs14jUoT9d_8yPH2i_S2AfQG507jN8aVY/edit?usp=sharing}{Assessment Criteria}
\end{itemize}

FAQ document which I am adding to as questions come in

\begin{itemize}
\tightlist
\item
  \href{https://docs.google.com/document/d/11OQs5bTnqth_cxwjHbQNeJTWZdp-wSTUcCQ2Uoz5rFw/edit?usp=sharing}{FAQ for PSY6422 (including on module project)}
\end{itemize}

Most information is on these pages (hosted on github, no login required)

\hypertarget{overview-assessment-module-organisation}{%
\chapter{Overview, assessment \& module organisation}\label{overview-assessment-module-organisation}}

\hypertarget{class-material}{%
\section{Class material:}\label{class-material}}

Materials from the class are in the PSY6422 \href{https://drive.google.com/drive/folders/1sDmbrTfKpiz2Y02R17ajLPkJV1XSxvJD?usp=sharing}{Google Drive} (UoS login required to access). Slides : \href{https://docs.google.com/presentation/d/15RlRzRGL3fa1SckE8YUWhJxiuWf5GH5pssIcG2zStKM/edit?usp=sharing}{slides format}.

\hypertarget{exercise-1-assessed}{%
\section{Exercise 1 (assessed!)}\label{exercise-1-assessed}}

The exercise for this class is an initial self-assessment, which comprises part of your final grade. The deadline is in two weeks - see the timetable.

Submit using the form link provided by Tom {[}check your email{]} a document of no more than one A4 page (i.e.~less than 500 words):

Aim 1: tell me what you know already

\begin{itemize}
\tightlist
\item
  review course webpages, write \textasciitilde50 words on your experience with computers and coding
\end{itemize}

Aim 2: start thinking about data to visualise

\begin{itemize}
\tightlist
\item
  describe a dataset you have access to and what you'll do with it OR\\
\item
  describe the kind of topic you'd like to identify relevant data to do a project on
\end{itemize}

Aim 3: set some targets for what you'd like to learn next

\begin{itemize}
\tightlist
\item
  describe 1 or 2 ambitions; techniques, technologies or tools you'd like to acquire
\end{itemize}

\hypertarget{marking-criteria}{%
\subsection{Marking criteria:}\label{marking-criteria}}

See the assessment document

The purpose of this assessment is to ensure you are engaging with the course and to start a conversation between us about the final assessment. I want to give you 100\%, all you have to do to achieve this is follow the instructions above.

\hypertarget{submission}{%
\subsection{Submission}\label{submission}}

You submit using them form link supplied by me, as an attachment with a filename containing your surname and registration number, of the form:

~~~~surname\_000000000.pdf

(file format does not need to be pdf)

\hypertarget{checklist}{%
\section{Checklist:}\label{checklist}}

\emph{To complete this class you should do the following :}

\begin{itemize}
\item
  Review these webpages

  \begin{itemize}
  \tightlist
  \item
    identify topics covered
  \item
    locate timetable
  \item
    note assessment deadlines
  \end{itemize}
\item
  Complete initial self-assessment by deadline
\item
  Check you have received email from Tom

  \begin{itemize}
  \tightlist
  \item
    Used the link to join the slack group
  \end{itemize}
\end{itemize}

\hypertarget{resources}{%
\section{Resources}\label{resources}}

\hypertarget{further-reading-on-the-motivation-for-a-data-management-component-of-this-course}{%
\subsection{Further reading on the motivation for a data management component of this course}\label{further-reading-on-the-motivation-for-a-data-management-component-of-this-course}}

\begin{itemize}
\tightlist
\item
  Russ Poldrack's \href{http://www.russpoldrack.org/2016/05/advice-for-learning-to-code-from-scratch.html}{Advice for learning to code from scratch}
\item
  Neuroskeptic on a \href{http://neuroskeptic.blogspot.com/2011/04/tufnel-effect.html}{true story of data analysis error} (and how you can avoid it) ``if you're doing something which involves 100 steps, it only takes 1 mistake to render the other 99 irrelevant.''
\item
  \href{https://www.youtube.com/watch?v=66oNv_DJuPc}{Data Sharing and Management Snafu in 3 Short Acts}
\end{itemize}

\hypertarget{r-r-studio}{%
\chapter{R \& R Studio}\label{r-r-studio}}

\hypertarget{resources-1}{%
\section{Resources}\label{resources-1}}

Statistical computing using R, the open source programming language, and the \href{https://rstudio.com/}{R Studio interface}.

Guide: \href{https://www.r-bloggers.com/2019/12/how-to-install-r-and-rstudio-2/}{How to install R and RStudio?}

\href{https://swirlstats.com/students.html}{https://swirlstats.com/}

Nick KH Troubleshooting \href{https://nickch-k.github.io/DataCommSlides/Lecture_04_Common_R_Problems.html}{Common R Problems}

\hypertarget{exercises-checklist}{%
\section{Exercises \& Checklist}\label{exercises-checklist}}

\emph{To complete this class you should do the following :}

\begin{itemize}
\item
  install R on your computer
\item
  identify the console

  \begin{itemize}
  \tightlist
  \item
    enter a command directly (e.g.~``2 + 2'')
  \end{itemize}
\item
  identify the file window

  \begin{itemize}
  \tightlist
  \item
    save a script as a .R file
  \item
    run a single line of the script by pressing CTRL + ENTER
  \item
    run the whole script
  \end{itemize}
\item
  identify the environment window
\item
  identify the files/plots/etc window
\item
  know how to install and load a library of functions (``a package'')

  \begin{itemize}
  \tightlist
  \item
    install the swirl package
  \end{itemize}
\item
  open this \href{static/class2.R}{script}

  \begin{itemize}
  \tightlist
  \item
    review line by line {[}as a pair exercise ideally{]}
  \end{itemize}
\end{itemize}

\hypertarget{making-graphs}{%
\chapter{Making Graphs}\label{making-graphs}}

\hypertarget{class-material-1}{%
\section{Class material}\label{class-material-1}}

Note: most of this class talk in workshop style, so any recordings are short and the slides are brief

The live-coding demo used these files: \href{static/class3a.R}{class3a.R} and \href{static/class3b.R}{class3b.R}. These are based on Healy (2018) chapters 2 and 3 respectively.

\hypertarget{resources-2}{%
\section{Resources}\label{resources-2}}

This book is recommended for the course, and for this lecture in particular:

Healy, K. (2018). \href{https://socviz.co/}{Data visualization: a practical introduction}. Princeton University Press.

\begin{itemize}
\tightlist
\item
  The whole book is available online via the link\\
\item
  There are supporting materials here: \url{https://github.com/kjhealy/socviz}
\end{itemize}

\hypertarget{other-resources}{%
\subsection{Other resources}\label{other-resources}}

\begin{itemize}
\tightlist
\item
  We are going to be using the ggplot package for our visualisations: \href{https://ggplot2.tidyverse.org/}{ggplot2}
\item
  \href{https://policyviz.com/2021/02/08/five-charts-youve-never-used-but-should/}{Five Charts You've Never Used but Should}
\item
  guru99: \href{https://www.guru99.com/r-scatter-plot-ggplot2.html}{Scatter Plot in R using ggplot2 (with Example)}
\item
  ggplot2: Elegant Graphics for Data Analysis, the chapter on \href{https://ggplot2-book.org/polishing.html}{Themes}
\item
  Giulia Ruggeri, Better data communication with \{ggplot2\}\href{https://giulia-ruggeri.medium.com/better-data-communication-with-ggplot2-92fbcfea2c6e}{Styling a chart and improving the text using \{forcats\} and \{ggtext\} and \{scales\}}, \href{https://giulia-ruggeri.medium.com/better-data-communication-with-ggplot2-part-2-615a5180ccb}{Better data communication with \{ggplot2\}, part 2}
\item
  datanovia.com: \href{https://www.datanovia.com/en/blog/ggplot-axis-ticks-set-and-rotate-text-labels/}{GGPlot Axis Ticks: Set and Rotate Text Labels}
\end{itemize}

\hypertarget{exercises}{%
\section{Exercises}\label{exercises}}

Review the \href{https://socviz.co}{introduction} and \href{https://socviz.co/lookatdata.html}{Chapter 1 `Look At Data'} of Healy (2018)

Work through \href{https://socviz.co/gettingstarted.html}{Chapter 2 `Get Started'} from 2.3 onwards (``Things to know about R''), we are ignoring the material on RMarkdown for now (we'll get there, see \href{https://tomstafford.github.io/psy6422/rmarkdown.html}{here}).

Work through \href{https://socviz.co/makeplot.html}{Chapter 3 `Make a plot'}

\hypertarget{checklist-1}{%
\section{Checklist}\label{checklist-1}}

Completed the exercises

\begin{itemize}
\tightlist
\item
  especially section 3.8 `Where to go next' in \href{https://socviz.co/makeplot.html}{Chapter 3 `Make a plot'}
\end{itemize}

Key concepts (chapter 2):

\begin{itemize}
\tightlist
\item
  variables and functions
\item
  variables are typed (e.g.~can be numeric or character)
\item
  and how you detect what type a variable is
\item
  indexing for variables and data frames
\end{itemize}

In the console, understood

\begin{itemize}
\tightlist
\item
  the shortcut keys for the assignment operator \textless-
\item
  the use of tab for autocomplete
\item
  the use up arrow to cycle through previous commands
\end{itemize}

Key concepts (chapter 3):

\begin{itemize}
\tightlist
\item
  Tidydata

  \begin{itemize}
  \tightlist
  \item
    \href{https://en.wikipedia.org/wiki/Wide_and_narrow_data}{long vs wide data}
  \item
    values and keys
  \item
    data variables can be continuous or factors
  \end{itemize}
\item
  plots have data, aesthetic mappings (`aes', `mappings') and layers
\item
  adding mappings, adding geoms, geom properties, other layers (e.g.~labs)
\item
  mappings are inherited by geom layers
\end{itemize}

\hypertarget{project-organisation}{%
\chapter{Project Organisation}\label{project-organisation}}

\hypertarget{project-folders}{%
\section{Project folders}\label{project-folders}}

You should organise all the documentation, files, data, code and outputs for a project in a single folder. Your aim is that when you come back to this project, or want to share it, everything you need is in one place and sensibly organised.

Create subfolders for `data', `graphs', `notes'. \href{http://babieslearninglanguage.blogspot.co.uk/2017/01/onboarding.html}{Michael Frank's onboarding guide} explains a bit more about the logic of this.

\hypertarget{naming-things}{%
\section{Naming Things}\label{naming-things}}

Files come in different types. This is indicated by their name, not the content.Turn on the options which means you file viewers the extensions of files (so you can see the full filename is \texttt{MyProject.Doc} not just \texttt{MyProject}). How to do this: \href{https://www.howtogeek.com/205086/beginner-how-to-make-windows-show-file-extensions/}{PC}, \href{https://support.apple.com/en-gb/guide/mac-help/mchlp2304/mac}{Mac}.

Because you will want to share this project use names that make sense to other people, as well as to you. \texttt{MyProject.Doc} is a bad name. \texttt{joeblogs\_psy64222.doc} is better.

Computers sometimes care about capitalisation, which means you need to pay attention : \texttt{MyFile.doc} and \texttt{myfile.doc} may not get treated the same. Computers also sometimes care about spaces in filenames. You can include these in your filenames and wait until this messes things up later (maybe much later, maybe even never), or you can decide now to be careful about capitalisation and never use spaces in your files names. Replace spaces with underscores \texttt{My\ File.doc} becomes \texttt{my\_file.doc}

R/RStudio may not work well if you are using Windows and have Chinese characters in your username. You can avoid this by using the latin alphabet (thanks to 胡传鹏 for this tip)

``c:/users/chuanpeng'' √√√

``c:/users/传鹏'' ×××

Never include special characters (e.g.~\&).

These rules also apply to variables in computer code.

Jenny Bryan has good thoughts on \href{http://www2.stat.duke.edu/~rcs46/lectures_2015/01-markdown-git/slides/naming-slides/naming-slides.pdf}{Naming Things}

\hypertarget{research-data-management}{%
\section{Research Data Management}\label{research-data-management}}

Everything recorded during an experiment, whether by you or the computer, is data. All log files. Everything.

Never delete \emph{any} data.

Never edit the raw data files. They should exist in a folder called \textbackslash raw or \textbackslash data and only ever be opened, never modified in any way.

All data should be backed-up automatically, as soon as it is collected. For how to do this, see the next header

\hypertarget{include-meta-data}{%
\section{Include meta-data}\label{include-meta-data}}

When you share data you \emph{must} include descriptions of where the data comes from and how it can be interpreted. This is sometimes referred to as \emph{data dictionary} or \emph{code book}. The general category is \emph{meta-data} - data about the data.

Typically I include a file called \texttt{codebook.txt} in the same folder as the data. You can see this in the example projects shared during the module.

In your codebook you should say briefly where your data comes from (how it was collected, who by etc). You should explain what the variables are. Usually variable columns are labelled with abbreviated or compressed names. The code book is your chance to explain in full what these abbreviations mean. You should also explain what the values or levels are of the difference variables. So, for example, if you have a column called \texttt{gender} in your data. A line in your codebook might be:

\texttt{gender\ :\ self\ declared\ gender\ of\ participant.\ Values\ are\ 1\ =\ female,\ 2\ =\ male,\ 3\ =\ other,\ 4\ =\ prefer\ not\ to\ say}

A codebook should also say how any missing values are coded and any other quirks of the data which could affect someone else's onward use.

If you are using secondary data (i.e.~data from someone else) it may come with an existing codebook and you should include this in your own project, along with your copy of the data. Make notes, either in an additional, addendum, codebook or in the comments on your analysis code, about any additional considerations which should be noted about the data.

\hypertarget{backup-and-sync}{%
\section{Backup and Sync}\label{backup-and-sync}}

Any back up process which requires you to remember to deploy it is fragile. Use a cloud synchronisation service. Many are available, like OneDrive or Dropbox, but since you are in the University of Sheffield you should install the \href{https://www.google.com/drive/download/}{Google Drive Backup and Sync tool}.

As well as backing up your work to the cloud, this will allow you to work on multiple machines (because changes are automatically carried across from one to the other), as well as collaborate (because multiple people can add to the same shared folder and any changes are instantly available to the whole team).

\hypertarget{resources-3}{%
\section{Resources:}\label{resources-3}}

\begin{itemize}
\tightlist
\item
  Jenny Bryan's presentation on \href{http://www2.stat.duke.edu/~rcs46/lectures_2015/01-markdown-git/slides/naming-slides/naming-slides.pdf}{Naming Things}
\item
  \href{http://babieslearninglanguage.blogspot.co.uk/2017/01/onboarding.html}{Michael Frank's onboarding guide}
\item
  \href{http://vita.had.co.nz/papers/tidy-data.pdf}{Tidy Data organisation}
\item
  \href{http://bayesfactor.blogspot.co.uk/2015/11/habits-and-open-data-helping-students.html}{Habits and open data: Helping students develop a theory of scientific mind}
\item
  Broman \& Woo (2017) \href{https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989}{Data Organization in Spreadsheets}
\item
  \href{https://www.sheffield.ac.uk/library/rdm/index}{University of Sheffield pages on Research Data Management}
\item
  Arslan, R. C. (2019). \href{https://journals.sagepub.com/doi/full/10.1177/2515245919838783}{How to automatically document data with the codebook package to facilitate data reuse}. Advances in Methods and Practices in Psychological Science, 2(2), 169-187.
\item
  Jenny Bryan: \href{https://github.com/jennybc/here_here}{I love the here package. Here's why.}
\item
  \href{https://malco.io/2018/11/05/why-should-i-use-the-here-package-when-i-m-already-using-projects/}{Why should I use the here package when I'm already using projects?}
\item
  rstats.wtf : \href{https://rstats.wtf/project-oriented-workflow.html}{Project-oriented workflow}
\end{itemize}

\hypertarget{exercises-1}{%
\section{Exercises}\label{exercises-1}}

\hypertarget{warm-up-pair-programming-exercise}{%
\subsection{Warm up: Pair programming exercise}\label{warm-up-pair-programming-exercise}}

: Write a script to create and save a histogram of life expectancy by continent, using the gapminder data (see slides for more notes)

\hypertarget{homework-project-1}{%
\subsection{Homework: Project 1}\label{homework-project-1}}

Create project containing script to generate plots from this data: \href{static/anscombe.csv}{anscombe.csv} (template script \href{static/project1.R}{here}; find completed example on google drive)

Share this project with another student on the course. \href{https://docs.google.com/spreadsheets/d/1gDbF07ekkz19HshAiDpZ6iu_y5iOKWrpyXDQKElV794/edit?usp=sharing}{2022 see this file for who}

Run the project shared with you, complete \href{https://docs.google.com/forms/d/e/1FAIpQLSdfOtUIUEs66W0nSqrHTHrMT-iubygdAhNFhUwbu0kOLZIMeA/viewform?usp=sf_link}{this checklist} 2022: deadline 0900 on 2nd of March.

Review the questions in the library \href{https://docs.google.com/document/d/1rHXl2LYhgv7zeuwc5fDRMyqSgE3OaLa8/edit?usp=sharing\&ouid=109750001665912327637\&rtpof=true\&sd=true}{Research Data Management plan for postgraduate researchers}

\hypertarget{checklist-2}{%
\section{Checklist}\label{checklist-2}}

\emph{in general}\\
* Be able to organise and share project work

\emph{specifically}\\
Understand \& Use\\
* file extensions, file paths\\
* standard file naming conventions\\
* ISO 8601 date format\\
* standard folder organisation for projects

Appreciate the need for a research data management plan

Map network drives / automate backups

You should be able to\\
* download a file to your Desktop (e.g.~\href{static/anscombe.csv}{this one}) and locate it on your hard drive\\
* report the full path of a file\\
* open a csv file as plain text\\
* share a project folder with someone else

\hypertarget{module-project}{%
\chapter*{Module project}\label{module-project}}


\emph{These pages are about the final project, which comprises most of the module grade. There are many useful notes below, which you will want to refer to as you complete your project}

In this class we covered how to identify data for your final project for this module. We also discussed the project format and assessment criteria. Unlike other classes there is no checklist of learning outcomes.

The final project for the course contributes the bulk of your grade, as well as creating a portfolio piece for you to demonstrate what you learnt on the course. The final project is a chance to deploy all the skills taught on the course in a single complete data visualisations project, which takes us from raw data and a question through data preparation and exploration through to publishing a visualisation and the documentation which shares your findings with others. The ambition is that a project is complete and reproducible, i.e.~it contains the input (the data), the output (like these max and min values, or a graph), documentation (explanation of what is what) and the whole is stitched together with an R code - the script that changes the input to the output. I should be able to run your script on my computer and produce the same output.

\hypertarget{requirements}{%
\section{Project requirements}\label{requirements}}

A complete project, including raw data, analysis scripts, documentation and visualisations shared in a way that allows the visualisation to be reproduced and understood

In practice, this means you should upload a project to github, containing a Rmarkdown file which explains your visualisation, as taught in the module (although alternatives are acceptable if they meet the primary criteria).

Please include these headings, or something similar, in your project.

\begin{itemize}
\tightlist
\item
  Data Origins

  \begin{itemize}
  \tightlist
  \item
    Answering questions of where it comes from, how it was collected, what the variables mean, etc
  \item
    show the first few rows of the raw data, if possible
  \end{itemize}
\item
  Research Questions

  \begin{itemize}
  \tightlist
  \item
    in plain english, a simple statement of what question(s) your visulisation will attempt to address
  \end{itemize}
\item
  Data Preparation

  \begin{itemize}
  \tightlist
  \item
    steps taken to clean the data, exclude outliers, create summary statistics, grouped variables, etc
  \item
    show the first few rows of the processed data, if possible
  \item
    showing the code which does this were relevant
  \end{itemize}
\item
  Visualisation(s)

  \begin{itemize}
  \tightlist
  \item
    graph or graphs
  \item
    documentation explaining any motivation (although good graph labelling is better than explanation in the accompanying text)
  \item
    code for producing them
  \end{itemize}
\item
  Summary

  \begin{itemize}
  \tightlist
  \item
    Brief thoughts on what you have learnt, what you might do next if you had more time / more data
  \end{itemize}
\end{itemize}

The ultimate aim is to make something that looks good and shows off your abilities. You want to produce something you are proud to show people (including future employers and supervisors)

\hypertarget{choosing-your-data}{%
\section{Choosing your data}\label{choosing-your-data}}

The data is an excuse for the data visualisation, so don't agonise over this, and go for simple over complex if you have a choice. I recommend you find a data set with variables which you understand.

\hypertarget{finding-data}{%
\subsection{Finding Data}\label{finding-data}}

Many papers are now published accompanied by open data. Sometimes this is indicated by an Open Data Badge. For example, take a look at the \href{https://journals.sagepub.com/toc/pss/current}{current table of contents for Psychological Science}. The badges are an initiative of the \href{https://cos.io/our-services/open-science-badges/}{Centre for Open Science}

You can also search a preprint archive such as \href{https://psyarxiv.com/}{psyarxiv}. Many, but not all, papers published as preprints will have open data. You can also search \href{https://osf.io/}{OSF.io} directly.

Pick a topic and have a look at what is available

The other route is large publicly available resources:

\begin{itemize}
\tightlist
\item
  such as \href{https://ourworldindata.org/}{Our World in Data}.
\item
  Another good source of diverse, open and current data sets is the \href{http://tinyletter.com/data-is-plural/archive}{Data Is Plural} newsletter
\item
  Enjoy this crowdsourced list of \href{https://docs.google.com/spreadsheets/d/1ejOJTNTL5ApCuGTUciV0REEEAqvhI2Rd2FCoj7afops/edit\#gid=0}{Open psychological datasets}
\item
  \href{https://www.kaggle.com/}{Kaggle}
\item
  \href{https://openpsychologydata.metajnl.com/articles/}{Journal of Open Psychology Data}
\item
  The \href{https://gss.norc.org/get-the-data}{General Social Survey (GSS)} (US)
\item
  \href{https://github.com/KKulma/climate-change-data}{Datasets APIs and open source projects related to Climate Change}
\end{itemize}

\hypertarget{suggestions-for-possible-project-data-sets}{%
\subsection{Suggestions for possible project data sets}\label{suggestions-for-possible-project-data-sets}}

These are examples of large, probably messy, real-world data sets which could make good starting points for projects:

\begin{itemize}
\tightlist
\item
  \href{https://github.com/freeCodeCamp?q=new-coder-survey}{freeCodeCamp.org survey of new programmers}
\item
  \href{https://insights.stackoverflow.com/survey/}{StackOverFlow survey data}
\item
  \href{https://www.sciencedirect.com/science/article/pii/S2352340920306612}{BEHACOM - a dataset modelling users' behaviour in computers}
\item
  The \href{http://www.worldvaluessurvey.org/wvs.jsp}{World Values Survey} ``is the largest non-commercial, cross-national, time series investigation of human beliefs and values ever executed, currently including interviews with almost 400,000 respondents.''
\item
  \href{https://genomics.senescence.info/species/index.html}{AnAge Database of Animal Ageing and Longevity}
\item
  \href{https://archive.org/details/GeneralIndex}{The General Index} - detailed linguistic data derived from 107,233,728 academic journal articles
\item
  \href{https://components.one/datasets}{components.one} - various tech \& media datasets
\end{itemize}

\hypertarget{choose-your-graph}{%
\section{Choose your graph}\label{choose-your-graph}}

You only need to draw one graph, but more are permitted.

The important thing is to show - either in the graph, or in text, or both - that you have thought about the logic of what you are visualising, \emph{how} it shows the information and \emph{why} this important

You may find this helpful, a guide to different kinds of graphs and when they are appropriate, made by journalists at the Financial Times: \href{https://ft-interactive.github.io/visual-vocabulary/}{A visual vocabulary}

\hypertarget{check-list}{%
\section{Check list}\label{check-list}}

Here are some questions to ask youself as you prepare your project

\begin{itemize}
\tightlist
\item
  do I care about this topic and/or data?
\item
  do you have access to the raw data?
\item
  can you load it?

  \begin{itemize}
  \tightlist
  \item
    if you can open it in a spreadsheet you will be definitely be able to open it in R, but you will still want to check if it is well formatted when you load it in R

    \begin{itemize}
    \tightlist
    \item
      for example, if different cells have different amounts of information in your data won't import nicely
    \item
      or, if you important information is contained in cell colours then this won't be available when you import into R
    \end{itemize}
  \end{itemize}
\item
  Do you understand it?

  \begin{itemize}
  \tightlist
  \item
    is there a code book?
  \item
    do you know what the columns are?
  \item
    do you understand the values?
  \end{itemize}
\end{itemize}

\hypertarget{answers-to-common-questions}{%
\section{Answers to common questions}\label{answers-to-common-questions}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  it doesn't matter if you don't do the things you said you wanted to do in the initial self-assessment
\item
  you can use the data from another course, for example the course project (psy6009)
  2b. if you do use the data from your research project make sure you are clear how this module project is different. I recommend not using the data from your research project.
\item
  the data / data questions doesn't have to be something which expresses the relationship between two variables. Any visualisation which shows something non-trivial about the data is good.
\item
  You don't need to do any statistical tests or model fitting. You don't need to have a set amount of data to meet statistical significance, just enough to be interesting when visualised.
\item
  You don't need more than a brief introduction to the data - no literature review please.
\item
  This is a visualisation project, not an analysis project, so you don't need to do statistical analysis. You will, however, find that a clear question or set of questions helps develop a good visualisation and/or that a good visualisation helps clarify an unclear question or set of questions.
\item
  There is no word limit, but remember - for a project which has maximum impact short is sweet (i.e.~try and show off quality of work without quantity of text)
\item
  You can reuse someone else's data - this is not plagiarism. You can even redo someone else's analysis. What you \textbf{can't} do is copy and paste someone's code for your project
\item
  Your project doesn't have to be on a psychology/neuroscience topic, but bear in mind that domain knowledge makes a better data visualisation project, and you - as psychology students - have domain knowledge about psychology.
\item
  The data does not have to be very large or very complex. Better a simple, clear, project than a complex, sophisticated project which is harder to understand.
  \#\# Getting help
\end{enumerate}

Simple questions should be posted on slack, ideally in the appropriate channel. This means that any advice you get (or give) is shared with the whole class, so everyone can benefit and we avoid needlessly repeating the same mistakes as individuals. During the semester I add answers to asked questions to the Q\&A document (link \href{index.html}{here}). At the end of the semester I will update the webpage so all the information you need is on these pages.

For more complex problems, you will want to share your whole project - this means not just the R or Rmd file you are working on, but the data file(s) as well, as well as an auxillary notes.
Please create a folder, following the \href{project-organisation.html}{project organisation scheme} we covered in week 2 with subfolders for the data, figures, etc and including the .Rmd file. Share this with me and I can help.

You can either share a google drive folder or a \href{git-and-github.html}{github repo}. Doing this means I have all the parts required to reproduce your issue. It also means that if you update your project in between contacting me and me looking at it then I see the very latest version, rather than working on an outdated problem.

Note that the deadline for assignments is the after the weekend, so I will not be answering questions in the days immediately before the deadline. If you want to ensure an answer to your question please ask it so here is at least one full working day before the deadline (i.e.~if the deadline is after the Weekend, please ask by 5pm on the thursday).

\hypertarget{example-projects}{%
\section{Example Projects}\label{example-projects}}

Here is an example small project which gives an idea of what I mean

\begin{itemize}
\tightlist
\item
  SuperTues: \href{https://tomstafford.github.io/supertues/}{Published}, \href{https://github.com/tomstafford/supertues}{repo}
\end{itemize}

Also, please look at prior project completed by students on this course:

\begin{itemize}
\tightlist
\item
  \href{class-of-2020.html}{Class of 2020 projects}.
\item
  \href{class-of-2021.html}{Class of 2021 projects}.
\end{itemize}

\hypertarget{stretch-goals}{%
\section{Stretch goals}\label{stretch-goals}}

More ambitious projects, using more advanced techiques, are possible for students who are further along with coding. These include techniques like database (SQL) queries, use of APIs, web-scraping or interactive plots

An accessible way to build interactive data visualisations is using the \href{https://shiny.rstudio.com/}{Shiny package} Here's one built for previous research project I worked on : \href{https://sheffield-university.shinyapps.io/decision_power/}{Power analyser}

\hypertarget{in-class-exercises}{%
\section{In class exercises}\label{in-class-exercises}}

Exercises for the class include

\begin{itemize}
\tightlist
\item
  In pairs, discuss what visualisation you have planned for the module project.
\item
  In pairs, review the checklist. Ask each other, and answer as far as you can, these questions?
\item
  In pairs, discuss the assessment criteria. Are you clear on what is needed to get marks on this project?
\item
  Whole class, discuss suggestions for improving the assessment criteria
\item
  Whole class, review and ask questions about the FAQ document and guidance on module projects
\end{itemize}

\hypertarget{data-wrangling}{%
\chapter{Data Wrangling}\label{data-wrangling}}

This class is about loading, cleaning, inspecting, merging and summarising data using the \href{https://www.tidyverse.org/}{Tidyverse} library for data science. The majority of most data science projects is getting the data into the best form for plotting or analysis, what is called data cleaning, data munging or data wrangling.

\hypertarget{class-material-2}{%
\section{Class material}\label{class-material-2}}

There are no slides for this class, it is taught entirely in workshop format.

\hypertarget{exercises-2}{%
\section{Exercises}\label{exercises-2}}

Find the folder \texttt{/modelproject\_asrs} in the google drive

\begin{itemize}
\tightlist
\item
  review the project organisation and files
\item
  open the file \texttt{datawrangle\_exercises.R}
\item
  complete the tasks described
\end{itemize}

\hypertarget{checklist-3}{%
\section{Checklist}\label{checklist-3}}

You should leave being familiar with these concepts, and known where to look up how to implement them. Indented bullets are more advanced topics (not always covered in the exercise)

\begin{itemize}
\tightlist
\item
  Load data from CSV

  \begin{itemize}
  \tightlist
  \item
    load data from an excel file
  \item
    load data from a TSV file (tab separated values)
  \end{itemize}
\item
  Recognise common tidyverse functions (below)
\item
  Use the pipe operator \texttt{\%\textgreater{}\%}
\item
  Mutate: new columns by combining old ones

  \begin{itemize}
  \tightlist
  \item
    Use string functions on column values (e.g.~separate on characters, take substrings)
  \end{itemize}
\item
  Select: select columns
\item
  Filter: select rows by values
\item
  group\_by and summarise

  \begin{itemize}
  \tightlist
  \item
    Understand this is a specific example of a general method of split-apply-combine
  \end{itemize}
\item
  rename: to change column names
\item
  convert variable types, e.g.~using as.numeric
\item
  join: to merge data frames, requires a common key between data frames

  \begin{itemize}
  \tightlist
  \item
    understand inner joins, left and right joins
  \end{itemize}
\end{itemize}

Almost any data wrangling task you can imagine can be done, you just need to find the right function or functions. So the final item for this classes checklist is

\begin{itemize}
\tightlist
\item
  practice searching for solutions to your data wrangling problems
\end{itemize}

\hypertarget{resources-4}{%
\section{Resources}\label{resources-4}}

\begin{itemize}
\tightlist
\item
  Data Skills for Reproducible Science: \href{https://psyteachr.github.io/msc-data-skills/dplyr.html}{Data Wrangling}
\item
  Claudia A Engel: \href{https://cengel.github.io/R-data-wrangling/dplyr.html}{Data Wrangling with R}
\item
  R for Data Science: Part II \href{https://r4ds.had.co.nz/wrangle-intro.html}{Wrangle}, especially \href{https://r4ds.had.co.nz/tidy-data.html}{Chapter 12 Tidy Data} and \href{https://r4ds.had.co.nz/relational-data.html}{Chapter 13 Relational Data}
\item
  datacarpentry.org \href{https://datacarpentry.org/r-socialsci/03-dplyr-tidyr/index.html}{Data Wrangling with dplyr and tidyr}
\item
  RStudio: \href{https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf}{data wrangling cheatsheet} (PDF)
\end{itemize}

\hypertarget{coding-principles}{%
\chapter{Coding Principles}\label{coding-principles}}

This class is about two kinds of fundamental principles of coding. The first is fundamental methods of making code do what you want - if statement, loops, functions. The second is fundamental principles of good code. Although we are using R, all programming languages use similar methods (although the exact syntax differs), and the principles of good code will also apply across languages.

As well demonstrating these fundamentals, these pages also introduce the vocabulary used to discuss them. Knowing the vocabulary helps because it means you know what terms to use when searching for solutions to problems you have.

\hypertarget{fundamental-methods}{%
\section{Fundamental methods}\label{fundamental-methods}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \protect\hyperlink{if}{if statements}
\item
  \protect\hyperlink{loops}{loops}
\item
  \protect\hyperlink{functions}{functions}
\end{enumerate}

\hypertarget{if}{%
\subsection{If statements}\label{if}}

So far we have written simple scripts that do things in order, top to bottom

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{\textless{}{-}} \DecValTok{1} \CommentTok{\# define a variable}
\NormalTok{a }\OtherTok{\textless{}{-}}\NormalTok{ a }\SpecialCharTok{+} \DecValTok{1} \CommentTok{\#add 1}
\FunctionTok{print}\NormalTok{(a) }\CommentTok{\# output the result}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

The first block above is the code, the second block (the lines which start with \texttt{\#\#}) is the output.

Changing which statements are run is called ``flow control''. An ``If statement'' is a fundamental way of doing this. It allows us to specify one set statements to run if a certain conditions is met. For example

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{\textless{}{-}} \DecValTok{1} \CommentTok{\# define a variable}
\NormalTok{a }\OtherTok{\textless{}{-}}\NormalTok{ a }\SpecialCharTok{+} \DecValTok{1} \CommentTok{\#add 1}
\ControlFlowTok{if}\NormalTok{(a}\SpecialCharTok{\textgreater{}}\DecValTok{4}\NormalTok{) }\CommentTok{\# this is the condition which has to be met, the \textquotesingle{}test expression\textquotesingle{}}
\NormalTok{  \{}\FunctionTok{print}\NormalTok{(a)\} }\CommentTok{\# this statement runs if the test expression is true}
\end{Highlighting}
\end{Shaded}

Notice there is no output. Copy the code to your own computer and run it. Now change the first line to \texttt{a\ \textless{}-\ 9} and run it again.

An If statement defines a branch in the flow of a script. The default can be nothing happening, but sometimes you want to define two alternatives. You can do this with an ``If\ldots else\ldots statement''

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{\textless{}{-}} \DecValTok{1} \CommentTok{\# define a variable}
\NormalTok{a }\OtherTok{\textless{}{-}}\NormalTok{ a }\SpecialCharTok{+} \DecValTok{1} \CommentTok{\#add 1}
\ControlFlowTok{if}\NormalTok{(a}\SpecialCharTok{\textgreater{}}\DecValTok{4}\NormalTok{)\{ }\CommentTok{\# this is the condition which has to be met, the \textquotesingle{}test expression\textquotesingle{}}
  \FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(a,}\StringTok{" is more than 4"}\NormalTok{)) }\CommentTok{\# this statement runs if the test expression is true}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  \{}\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(a,}\StringTok{" is equal or less than 4"}\NormalTok{))\} }\CommentTok{\# this statement runs if the test expression is false}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2  is equal or less than 4"
\end{verbatim}

You can actually have as many branches as you like, defining a series of test\_expressions, like this

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{type\_of\_thing }\OtherTok{\textless{}{-}} \StringTok{\textquotesingle{}\textquotesingle{}} 
\FunctionTok{print}\NormalTok{(}\StringTok{"Is four a lot?"}\NormalTok{)}
\ControlFlowTok{if}\NormalTok{ (type\_of\_thing}\SpecialCharTok{==}\StringTok{\textquotesingle{}Murders\textquotesingle{}}\NormalTok{)\{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"yes"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (type\_of\_thing}\SpecialCharTok{==}\StringTok{\textquotesingle{}Dollars\textquotesingle{}}\NormalTok{)\{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"no"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"Depends on the context"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Is four a lot?"
## [1] "Depends on the context"
\end{verbatim}

\hypertarget{loops}{%
\subsection{Loops}\label{loops}}

Loops repeat, either iterating over a set values, like this:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\DecValTok{5}\NormalTok{)\{}
  \FunctionTok{print}\NormalTok{(i)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
\end{verbatim}

Or until some condition is met

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OtherTok{\textless{}{-}} \DecValTok{1} \CommentTok{\#need to initialise a starting value}
\ControlFlowTok{while}\NormalTok{(i}\SpecialCharTok{\textless{}}\DecValTok{6}\NormalTok{)\{}
  \FunctionTok{print}\NormalTok{(i)}
\NormalTok{  i }\OtherTok{\textless{}{-}}\NormalTok{ i }\SpecialCharTok{+} \DecValTok{1} \CommentTok{\# increment the value of the counter}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
\end{verbatim}

Note that this second version, a ``while loop'' uses a test expression just like an if statement

Loops are useful wherever you might want to repeat some operation.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{years }\OtherTok{\textless{}{-}} \DecValTok{10} \CommentTok{\#how many years since you started saving}
\NormalTok{savings }\OtherTok{\textless{}{-}}\DecValTok{100} \CommentTok{\#how much you start with}
\NormalTok{interest }\OtherTok{\textless{}{-}} \FloatTok{1.05} \CommentTok{\#rate of interest, ie 5\% interest}
\CommentTok{\#Calculate using a loop}
\ControlFlowTok{for}\NormalTok{ (year }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\NormalTok{years)\{}
\NormalTok{  savings}\OtherTok{\textless{}{-}}\NormalTok{savings}\SpecialCharTok{*}\NormalTok{interest}
\NormalTok{\}}
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"After"}\NormalTok{, years, }\StringTok{"years you will have £"}\NormalTok{, }\FunctionTok{round}\NormalTok{(savings,}\DecValTok{2}\NormalTok{))) }\CommentTok{\#save more, kids}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "After 10 years you will have £ 162.89"
\end{verbatim}

Lots of people advise against using loops because they are can be slow and it isn't always obvious what they are doing. Alternatives often exist, like vectorisation:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{years }\OtherTok{\textless{}{-}} \DecValTok{20} \CommentTok{\#how many years since you started saving}
\NormalTok{savings }\OtherTok{\textless{}{-}}\DecValTok{100} \CommentTok{\#how much you start with}
\NormalTok{interest }\OtherTok{\textless{}{-}} \FloatTok{1.05} \CommentTok{\#rate of interest, ie 5\% interest}
\CommentTok{\#Calculate using a vector}
\NormalTok{total\_at\_each\_year}\OtherTok{=}\NormalTok{savings}\SpecialCharTok{*}\NormalTok{interest}\SpecialCharTok{**}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\NormalTok{years) }\CommentTok{\#rather than a loop all the answer values are stored in a single vector}
\CommentTok{\#plot(total\_at\_each\_year,xlab="years") \#bonus! We can plot, since we now have all the intervening values saved}
\end{Highlighting}
\end{Shaded}

The problem is, loops are the natural way to think about some problems. Often I first write my code with loops then, when I know what I really want to do I try and work out a way to do it with vectorisation.

\hypertarget{functions}{%
\subsection{Functions}\label{functions}}

Functions take in values (called ``arguments''), do something with them, and give a value or values back in return. You have already used functions, for example the mean function

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_nums }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{78}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{32}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{03}\NormalTok{,}\DecValTok{89}\NormalTok{) }\CommentTok{\#just a vector of some numbers}
\FunctionTok{mean}\NormalTok{(my\_nums) }\CommentTok{\#use the mean function to find the average}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 39.66667
\end{verbatim}

Functions always do the same thing, but give different results depending on the inputs (depending on the ``arguments you pass to the function'').

You can write your own functions, and then use them (``call them'') again and again. Here is the general form of a function

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{myfunctionname }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(input\_value) \{}
\CommentTok{\# comment line helpfully explaining what the function does}
\NormalTok{output\_value }\OtherTok{\textless{}{-}}\NormalTok{ input\_value }\CommentTok{\#lines of code which do something to the input to produce the output}
\FunctionTok{return}\NormalTok{(output\_value)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Note a couple of things: when you run this code it does not produce any output, but a new object appears in the ``global environment'' window, top right. Like a variable, your function is now stored in the memory of the current R session.

You can call this function now. If you close R you'll need to define the function again by running the above code again (other functions are inbuilt, like \texttt{mean} and are loaded at startup, or when you use the \texttt{library} command to load a set of functions).

Now, when we call the function, we pass actual values.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{myfunctionname}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

Let's make our function slightly more complicated

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{outcheck }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(val,threshold) \{}
\CommentTok{\# outlier checker}
\ControlFlowTok{if}\NormalTok{(val}\SpecialCharTok{\textless{}}\NormalTok{threshold)\{}
\NormalTok{  output\_value }\OtherTok{\textless{}{-}}\NormalTok{ val }\CommentTok{\#if value is below theshold return that value}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  output\_value }\OtherTok{\textless{}{-}} \ConstantTok{NA} \CommentTok{\#otherwise, return NaN}
\NormalTok{\}}
\FunctionTok{return}\NormalTok{(output\_value)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

This function takes two input values, and returns a single value which depends on the relation between the two

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{outcheck}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{outcheck}\NormalTok{(}\DecValTok{7}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

\hypertarget{a-note-about-scope}{%
\subsubsection{A note about scope}\label{a-note-about-scope}}

Variables within functions are kept `inside' the functions (within the ``scope'' of the function). Once you pass a value to a function is acquires the label set in the function definition. Variables defined within the function don't persist outside of it (they don't affect the ``global environment'')

So, for example, it doesn't matter if you have another variable called \texttt{threshold}, the threshold within the function is set by the second value passed it. Like this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{threshold }\OtherTok{\textless{}{-}} \DecValTok{100}
\FunctionTok{outcheck}\NormalTok{(}\DecValTok{7}\NormalTok{,}\DecValTok{5}\NormalTok{) }\CommentTok{\#returns NA because 7 is higher than 5}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

\hypertarget{exercises-1-1}{%
\subsection{Exercises 1}\label{exercises-1-1}}

\begin{itemize}
\tightlist
\item
  Write an if\ldots else statement that prints ``ODD'' if the number is odd, ``EVEN'' if the number is even (hint: you might use the remainder function \%\% (try 4\%\%2 to see how much is left when you divide 4 by 2)
\item
  Write a loop which goes from 10 to 20 in steps of 3
\item
  Write a function which prints ``FIZZ'' if a number is divisible by 3, and ``BUZZ'' if it is divisible by 5 and ``FIZZBUZZ'' if it is divisble by 3 \emph{and} 5
\item
  Write a loop which counts from 1 to 100 and applies the fizzbuzz function to each number
\end{itemize}

\hypertarget{more}{%
\subsection{More}\label{more}}

\begin{itemize}
\tightlist
\item
  Lisa DeBruine, \& Dale Barr. (2019, December 5). Data Skills for Reproducible Science (Version 1.0.0). Zenodo. \url{http://doi.org/10.5281/zenodo.3564555}: \href{https://psyteachr.github.io/msc-data-skills/func.html}{Iterations \& Functions}
\item
  \href{https://www.datamentor.io/r-programming/if-else-statement/}{datamentor.io on Flow control}
\end{itemize}

\hypertarget{fundamental-principles-of-good-code}{%
\section{Fundamental principles of good code}\label{fundamental-principles-of-good-code}}

\hypertarget{readability-matters}{%
\subsection{Readability Matters}\label{readability-matters}}

Your most important collaborator is you from six months ago, and they don't answer email.

Good code doesn't just work, it is easy to understand. This supports the code being checked for errors, modified and improved (by you as well as by other people).

To support this you should make your code readable. This means commenting your code, but also laying it out nicely, and using sensible names for variables and function. The aim is to make the code explain itself, as well as doing something. Someone who reads your code - a future you maybe, or a collaborator - needs to be able to run the code, yes, but they also need to know what you are doing and why you are doing.
Look at this function, it hard to understand, right?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pf }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(n)\{ p}\OtherTok{=}\DecValTok{1}\NormalTok{ ; }\ControlFlowTok{if}\NormalTok{ (n}\SpecialCharTok{\textgreater{}}\DecValTok{1}\NormalTok{)\{ i }\OtherTok{=} \DecValTok{2}\NormalTok{; }\ControlFlowTok{while}\NormalTok{( (i}\SpecialCharTok{\textless{}}\NormalTok{(n}\SpecialCharTok{/}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{\&}\NormalTok{ (p}\SpecialCharTok{==}\DecValTok{1}\NormalTok{) ) \{}\ControlFlowTok{if}\NormalTok{ (n}\SpecialCharTok{\%\%}\NormalTok{i }\SpecialCharTok{==}\DecValTok{0}\NormalTok{) p}\OtherTok{=}\DecValTok{0}\NormalTok{; i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1}\NormalTok{ \}  \} }\ControlFlowTok{else}\NormalTok{ \{p}\OtherTok{=}\DecValTok{0}\NormalTok{ \}; }\FunctionTok{return}\NormalTok{(p) \}}
\end{Highlighting}
\end{Shaded}

This kind of code is very compressed. You can fit a lot in a few lines, but it is useless because nobody else will understand it, and probably the person who wrote it won't understand it when they come back to it (and that means they will miss any bugs, or will find it hard to improve or repurpose).

Readability is improved a lot by adding some spacing and tabs. Have another go at figuring out what the code does:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pf }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(n)\{}
\NormalTok{  p}\OtherTok{=}\DecValTok{1}
  \ControlFlowTok{if}\NormalTok{ (n}\SpecialCharTok{\textgreater{}}\DecValTok{1}\NormalTok{)\{ }
\NormalTok{    i }\OtherTok{=} \DecValTok{2} 
      \ControlFlowTok{while}\NormalTok{( (i}\SpecialCharTok{\textless{}}\NormalTok{(n}\SpecialCharTok{/}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{\&}\NormalTok{ (p}\SpecialCharTok{==}\DecValTok{1}\NormalTok{) ) \{}
        \ControlFlowTok{if}\NormalTok{ (n}\SpecialCharTok{\%\%}\NormalTok{i }\SpecialCharTok{==}\DecValTok{0}\NormalTok{) \{}
\NormalTok{          p}\OtherTok{=}\DecValTok{0}
\NormalTok{        \}}
\NormalTok{        i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1}
\NormalTok{      \}}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{    p}\OtherTok{=}\DecValTok{0}
\NormalTok{  \}}
  \FunctionTok{return}\NormalTok{(p)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Now we make the variable and function names sensible:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{primecheck }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(num)\{}
\NormalTok{  isprime}\OtherTok{=}\ConstantTok{TRUE}
  \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\textgreater{}}\DecValTok{1}\NormalTok{)\{ }
\NormalTok{    i }\OtherTok{=} \DecValTok{2} 
      \ControlFlowTok{while}\NormalTok{( (i}\SpecialCharTok{\textless{}}\NormalTok{(num}\SpecialCharTok{/}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{\&}\NormalTok{ (isprime}\SpecialCharTok{==}\ConstantTok{TRUE}\NormalTok{) ) \{}
        \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\%\%}\NormalTok{i }\SpecialCharTok{==}\DecValTok{0}\NormalTok{) \{}
\NormalTok{          isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{        \}}
\NormalTok{        i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1}
\NormalTok{      \}}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{    isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{  \}}
  \FunctionTok{return}\NormalTok{(isprime)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Can you tell what it does yet?

Now fully commented

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{primecheck }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(num)\{}
  \CommentTok{\#check if a number is prime}
  \CommentTok{\# {-} assumes the number provided is an integer}
  \CommentTok{\# {-} works by working through all possible divisors up to half the test number, checking if the remainer is 0}
  \CommentTok{\#}
\NormalTok{  isprime}\OtherTok{=}\ConstantTok{TRUE} \CommentTok{\# a flag, which tracks if we think the number is prime. We start out assuming our number *is* prime}
  \CommentTok{\# first we only need to do the complicated method for numbers great than 1}
  \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\textgreater{}}\DecValTok{1}\NormalTok{)\{ }
\NormalTok{    i }\OtherTok{=} \DecValTok{2} \CommentTok{\#a counter, starting at 2 (because all numbers divide by 1)}
      \CommentTok{\#use while loop to check all divisors until we\textquotesingle{}ve done them all or we find one (and confirm the number is not prime)}
\ControlFlowTok{while}\NormalTok{( (i}\SpecialCharTok{\textless{}}\NormalTok{(num}\SpecialCharTok{/}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{\&}\NormalTok{ (isprime}\SpecialCharTok{==}\ConstantTok{TRUE}\NormalTok{) ) \{}
  \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\%\%}\NormalTok{i }\SpecialCharTok{==}\DecValTok{0}\NormalTok{) \{}
    \CommentTok{\#if the number divides by another number with no remainder it can\textquotesingle{}t be prime, so we change the flag}
\NormalTok{    isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{  \}}
\NormalTok{  i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1} \CommentTok{\# increment the counter, so we work through all possible divisors}
\NormalTok{\}}

\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \CommentTok{\# if the number is 1 or lower it can\textquotesingle{}t be prime, so we change the flag}
\NormalTok{  isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{\}}
\FunctionTok{return}\NormalTok{(isprime) }\CommentTok{\#return the flag as the output of the function, 0 {-}\textgreater{} not prime, 1 {-}\textgreater{} prime}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

It is possible to comment too much. The code above I commented so someone who wasn't an experienced programmer could read the comments and it would help them understand how the code worked (you can tell me if I succeeded). Usually a few fewer comments might make the code easier to read, with the assumption that anyone reading it has a bit of experience with the coding language. Like this

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{primecheck }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(num)\{}
  \CommentTok{\#check if a number is prime}
  \CommentTok{\# {-} assumes input is integer}
\NormalTok{  isprime}\OtherTok{=}\ConstantTok{TRUE} \CommentTok{\# a flag, start assuming our number *is* prime }
  \CommentTok{\# only check numbers \textgreater{} 1}
  \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\textgreater{}}\DecValTok{1}\NormalTok{)\{ }
\NormalTok{    i }\OtherTok{=} \DecValTok{2} \CommentTok{\#a counter}
      \CommentTok{\#check all divisors until we\textquotesingle{}ve done them all or we find one }
\ControlFlowTok{while}\NormalTok{( (i}\SpecialCharTok{\textless{}}\NormalTok{(num}\SpecialCharTok{/}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{\&}\NormalTok{ (isprime}\SpecialCharTok{==}\ConstantTok{TRUE}\NormalTok{) ) \{}
  \ControlFlowTok{if}\NormalTok{ (num}\SpecialCharTok{\%\%}\NormalTok{i }\SpecialCharTok{==}\DecValTok{0}\NormalTok{) \{}
    \CommentTok{\#no remainder {-}\textgreater{} number isn\textquotesingle{}t prime}
\NormalTok{    isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{  \}}
\NormalTok{  i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1} \CommentTok{\# increment the counter}
\NormalTok{\}}

\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \CommentTok{\# if the number is 1 or lower it can\textquotesingle{}t be prime}
\NormalTok{  isprime}\OtherTok{=}\ConstantTok{FALSE}
\NormalTok{\}}
\FunctionTok{return}\NormalTok{(isprime)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

This version is 22 lines rather than 1, but I hope you agree it is easier to work with. There's no shortage of space in R scripts, so if in doubt, put some effort in to laying things out nicely, use sensible names for variable functions and add comments. You'll thank yourself when you come back to your code (which you will always have to).

\hypertarget{avoid-hard-coded-values}{%
\subsection{Avoid hard coded values}\label{avoid-hard-coded-values}}

Say you were going to load some data, you could do this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydata }\OtherTok{=} \FunctionTok{read.csv}\NormalTok{(}\StringTok{\textquotesingle{}/home/tom/Desktop/psy6422/mydatafile.csv\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Now this happens to work on my computer, but it won't on yours. The reason it won't work isn't because there is a bug in how i'm loading data, just that you don't have a file in the same place as I do. Far better, for both readability and debugging if you seperate out values that might change from the commands that use them.

Like this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datafile }\OtherTok{=} \StringTok{\textquotesingle{}/home/tom/Desktop/psy6422/mydatafile.csv\textquotesingle{}}
\NormalTok{mydata }\OtherTok{=} \FunctionTok{read.csv}\NormalTok{(datafile)}
\end{Highlighting}
\end{Shaded}

Now the second line is easier to read, and you also have a variable which you can reuse. For example maybe later in your script you want to save the name of the raw data file somewhere. You can just use:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{label }\OtherTok{=} \FunctionTok{paste}\NormalTok{(}\StringTok{\textquotesingle{}This plot generated using data from \textquotesingle{}}\NormalTok{, datafile)}
\end{Highlighting}
\end{Shaded}

And when you use the same script for different data, both the lines loading data and recording the data file are correct.

Another example, suppose you had two plots:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{graph1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ anscombe, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x1, }\AttributeTok{y=}\NormalTok{y1))}
\NormalTok{graph1 }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{color=}\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}\AttributeTok{size=}\DecValTok{3}\NormalTok{) }\CommentTok{\#change this line for different look}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics[width=1\linewidth]{060-coding_files/figure-latex/anscombe1-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{graph2 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ anscombe, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x2, }\AttributeTok{y=}\NormalTok{y2))}
\NormalTok{graph2 }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{color=}\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}\AttributeTok{size=}\DecValTok{3}\NormalTok{) }\CommentTok{\#change this line for different look}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics[width=1\linewidth]{060-coding_files/figure-latex/anscombe2-1} \end{center}

Adding variables means you only need to edit one line to change the look of both plots

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pointcolour}\OtherTok{=}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{; pointsize}\OtherTok{=}\DecValTok{5}\NormalTok{ ; pointshape }\OtherTok{=} \DecValTok{23} \CommentTok{\#change this line for different look}

\NormalTok{graph1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ anscombe, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x1, }\AttributeTok{y=}\NormalTok{y1)) }
\NormalTok{graph1 }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{color=}\NormalTok{pointcolour,}\AttributeTok{size=}\NormalTok{pointsize, }\AttributeTok{shape =}\NormalTok{ pointshape) }\CommentTok{\# never change these lines}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics[width=1\linewidth]{060-coding_files/figure-latex/anscombe1and2red-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{graph2 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ anscombe, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ x2, }\AttributeTok{y=}\NormalTok{y2))}
\NormalTok{graph2 }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{color=}\NormalTok{pointcolour,}\AttributeTok{size=}\NormalTok{pointsize, }\AttributeTok{shape =}\NormalTok{ pointshape) }\CommentTok{\# never change these lines}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics[width=1\linewidth]{060-coding_files/figure-latex/anscombe1and2red-2} \end{center}

This may seem minor, but as your code gets longer developing habits like this will save you time, and make your code easier to work with.

\hypertarget{functionalise-generalise}{%
\subsection{Functionalise \& Generalise}\label{functionalise-generalise}}

If you ever find yourself using very similar lines of code, you should think about making a function. Functions make your code shorter and easier to read (and write), and they make it \emph{way} easier to update (because when you catch a bug you can just update the code in the function, rather than every time you repeated those lines).

Functions are also an opportunity to think to yourself ``what is the most general purpose way of doing what I'm doing''. Thinking like this will help you develop powerful, flexible, code which you can use to do multiple things.

Let's look at a toy example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mynumbers }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{)}

\CommentTok{\#double and add one to each number}
\NormalTok{mynumbers[}\DecValTok{1}\NormalTok{] }\OtherTok{\textless{}{-}}\NormalTok{ mynumbers[}\DecValTok{1}\NormalTok{]}\SpecialCharTok{*}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1} \CommentTok{\# line 1}
\NormalTok{mynumbers[}\DecValTok{2}\NormalTok{] }\OtherTok{\textless{}{-}}\NormalTok{ mynumbers[}\DecValTok{2}\NormalTok{]}\SpecialCharTok{*}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1} \CommentTok{\# line 2}
\NormalTok{mynumbers[}\DecValTok{3}\NormalTok{] }\OtherTok{\textless{}{-}}\NormalTok{ mynumbers[}\DecValTok{3}\NormalTok{]}\SpecialCharTok{*}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1} \CommentTok{\# line 3}

\FunctionTok{print}\NormalTok{(mynumbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5 7 9
\end{verbatim}

This can be improved with a function

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{myfunc }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(num)\{}
  \CommentTok{\#toy function, doubles and adds 1}
  \FunctionTok{return}\NormalTok{(num}\SpecialCharTok{*}\DecValTok{2}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\NormalTok{  \}  }

\NormalTok{mynumbers }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{)}

\NormalTok{mynumbers }\OtherTok{\textless{}{-}} \FunctionTok{myfunc}\NormalTok{(mynumbers) }\CommentTok{\# all the work with 1 line!}

\FunctionTok{print}\NormalTok{(mynumbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5 7 9
\end{verbatim}

This code is easier to read, easier to change, and you can write new code which uses this function again.

\hypertarget{ask-for-help}{%
\subsection{Ask for help}\label{ask-for-help}}

Nobody finds this easy straight away. Learning how to find help a core programming skill (along with not giving up when it feels like you are completely stuck).

Part of this is knowing how programming people talk about stuff so you can search effectively for solutions.

If you get an error message, copy and paste it into your search.

If you are really stuck, just trying to describe you problem is a good way of indentifying exactly what you want to do, and why you can't. This often means creating a `minimal reproducible example' - the smallest script possible generates the error you're trying to solve. Often the process of working on this helps you solve the problem yourself, but if it doesn't it means you have clear way of showing someone else what you're issue it. See this \href{https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example}{How to make a great R reproducible example} and this \href{https://stackoverflow.com/help/how-to-ask}{How do I ask a good question?}. Now you have your minimal reproducible example you can ask a friend, teacher, or post it to a forum.

If you're on this module you can do this by posting it to Slack, or if not try seeking out R groups in your city or institution. Shout out to \href{https://rladies.org/}{Rladies}

\hypertarget{exercises-2-1}{%
\subsection{Exercises 2}\label{exercises-2-1}}

\begin{itemize}
\tightlist
\item
  In pairs, take one person's code from a previous week's project and review for readability, using the \textbf{better code} checklist below. Write an improved version together
\item
  In pairs, try these `\href{https://github.com/tomstafford/parsonsproblems}{Parsons Problems}' \textbf{only try the R problems} not the python (\texttt{.py}) ones
\item
  Review these articles on how to make a minimal reproducible example: \href{https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example}{How to make a great R reproducible example} \& \href{https://stackoverflow.com/help/how-to-ask}{How do I ask a good question?}.
\item
  Make and share on slack a minimal reproducible example of your next R problem
\end{itemize}

\hypertarget{checklist-4}{%
\subsection{Checklist}\label{checklist-4}}

\textbf{control flow}

\begin{itemize}
\tightlist
\item
  if statements

  \begin{itemize}
  \tightlist
  \item
    if \ldots then statements
  \item
    if \ldots then .. else statements
  \end{itemize}
\item
  for loops
\item
  while loops
\item
  functions

  \begin{itemize}
  \tightlist
  \item
    scope
  \end{itemize}
\end{itemize}

\textbf{better code}

\begin{itemize}
\tightlist
\item
  readable code

  \begin{itemize}
  \tightlist
  \item
    indents and whitespace
  \item
    sensible variable names
  \item
    comments
  \end{itemize}
\item
  hard coded values aid extension, efficiency and reproducibility
\item
  functions make code easier to read, easier to modify, reduce the likelihood of bugs
\end{itemize}

\textbf{ask for help}

\begin{itemize}
\tightlist
\item
  google the error message
\item
  make a minimal reproducible example
\end{itemize}

\hypertarget{resources-5}{%
\subsection{Resources}\label{resources-5}}

\begin{itemize}
\tightlist
\item
  Patrick J Mineault \& The Good Research Code Handbook Community (2021). \href{https://goodresearch.dev/}{The Good Research Code Handbook}. Zenodo. \url{doi:10.5281/zenodo.5796873}
\item
  \href{https://debruine.github.io/posts/function-tips/}{Function tips}
\item
  Vocabulary: \href{https://psyteachr.github.io/msc-data-skills/symbols.html}{Names for common programming symbols}
\item
  \href{https://inattentionalcoffee.wordpress.com/2017/01/13/program-better-for-fun-and-for-profit/}{Program better, for fun and for profit}
\item
  \href{https://kkulma.github.io/2018-03-18-Prime-Hints-for-Running-a-data-project-in-R/}{Prime Hints For Running A Data Project In R}
\item
  Software Carpentry: \href{https://swcarpentry.github.io/r-novice-inflammation/06-best-practices-R/}{Best Practices for Writing R Code}
\item
  Nice R code: \href{https://nicercode.github.io/intro/bad-habits.html}{bad habits}
\item
  \href{https://goodresearch.dev/}{The Good Research Code Handbook} {[}python orientated{]}
\item
  Barnes, N. (2010). \href{https://www.nature.com/articles/467753a}{Publish your computer code: it is good enough}. Nature, 467(7317), 753-753.
\item
  Axelrod, V. (2014). \href{https://www.frontiersin.org/articles/10.3389/fpsyg.2014.01435/full}{Minimizing bugs in cognitive neuroscience programming}. Frontiers in psychology, 5, 1435.
\item
  Wilson, G., Aruliah, D. A., Brown, C. T., Hong, N. P. C., Davis, M., Guy, R. T., \ldots{} \& Waugh, B. (2014). \href{http://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1001745}{Best practices for scientific computing}. PLoS biology{]} 12(1), e1001745.
\item
  r-bloggers.com \href{https://www.r-bloggers.com/2021/05/little-useless-useful-r-functions-looping-through-variable-names-and-generating-plots/}{Looping through variable names and generating plots}
\item
  r-bloggers.com \href{https://www.r-bloggers.com/2021/02/coding-principles-updating-and-maintaining-code/}{Coding Principles: Updating and Maintaining Code}
\item
  Advanced R by Hadley Wickham: \href{http://adv-r.had.co.nz/Style.html}{Style guide}
\end{itemize}

\hypertarget{rmarkdown}{%
\chapter{Rmarkdown}\label{rmarkdown}}

You need to be able to share your analysis. Comments are good for making code readable, but often you will want longer sections of text, mixed in with both the code you are running and the outputs of the code (e.g.~the plots you are making with it). Do this with RMarkdown.

A RMarkdown file is a plain text file, like a R script, but with the extension \texttt{.Rmd} rather than \texttt{.R}. You can make one now in RStudio by clicking File \textgreater{} New File \textgreater{} R Markdown. Or by saving an existing .R script as \texttt{filename.Rmd}.

RMarkdown is the system which marks how text should look after it has been converted into a webpage, or PDF, or some other kind of document. The name RMarkdown is kind of a joke, since RMarkdown is a version of a ``markup langauge''. Markups are the opposite of the \href{https://en.wikipedia.org/wiki/WYSIWYG}{WYSIWYG} systems (like MS word or Google Docs) which you are used to.

These pages are written in Rmarkdown. You can see this individual file \href{https://github.com/tomstafford/psy6422/blob/master/070-rmarkdown.Rmd}{here in the online repositry}. It will really help if you read the webpage alongside the file, so you can compare the file which generates the text, using the markdown, and the output (the webpage).

Rstudio magic (called ``rendering'' or ``knitting'') turns this file in to the webpage.

Before you can turn your \texttt{.Rmd} files into PDF you need to install TeX on your machine: \href{https://miktex.org/download}{use this download link}

Compare the \href{https://github.com/tomstafford/psy6422/blob/master/070-rmarkdown.Rmd}{file} and the \href{https://tomstafford.github.io/psy6422/rmarkdown.html}{webpage}.

\textbf{In the webpage this line is in bold. Why?}

\emph{In the webpage this line is in italic. Why?}

\hypertarget{and-this-line-is-a-heading}{%
\section{And this line is a heading}\label{and-this-line-is-a-heading}}

Try now creating your own Rmarkdown file by clicking File \textgreater{} New File \textgreater{} Rmarkdown in RStudio.

RMarkdown files have three components.

\hypertarget{first-a-header}{%
\section{First a header}\label{first-a-header}}

Aka ``header material''. It looks like this, at the top of the file:

\begin{figure}
\centering
\includegraphics{images/yaml.png}
\caption{Yaml matter at the top of a .Rmd file}
\end{figure}

This is called YAML and it is stuff meant to be read by the computer when the file is converted into a document to be read by humans. You can see that this is meant to be an ``HTML'' document (that's the kind on a webpage), so let's make it now. Click ``knit'' in RStudio (or ``knit to HTML'' if you are exploring the options menu).

(you'll be prompted to give your \texttt{.Rmd} file a name first, if you haven't done this already).

After a brief pause you should get a new window open, containing something that has some of the same words as your document. Notice how the YAML stuff has disappeared, and the new document now contains formatting (bold, italics, headings, etc).

Part of the benefit of markdown is that you write the document once, and can convert it to a webpage, or a PDF, or a MS Word document. Try now. Click ``Knit'' and select ``Knit to PDF''. You get a nice PDF document, looking almost, but not entirely, like the webspage you made moments before.

\hypertarget{second-text}{%
\section{Second, text}\label{second-text}}

If you just write stuff in a \texttt{.Rmd} document you get text. This is the second kind of thing in a \texttt{.Rmd} document, like this.

It can contain formatting - \emph{italics}, \textbf{bold}, etc - as well as stuff like lists and hyperlinks:

\begin{itemize}
\tightlist
\item
  See a long list of formatting options in this \href{https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf}{cheatsheet}
\item
  The most common options here: \href{https://rmarkdown.rstudio.com/authoring_basics.html}{Markdown Basics}
\item
  This line just to demonstrate that this is a list
\end{itemize}

But the real strength of Rmarkdown is you can mix text and code

\hypertarget{third-code}{%
\section{Third, code}\label{third-code}}

This is the third ingredient, code and any output it produces. Like this:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(}\StringTok{"Here is some R code"}\NormalTok{)}
\NormalTok{a }\OtherTok{\textless{}{-}} \DecValTok{6}
\NormalTok{b }\OtherTok{\textless{}{-}} \FloatTok{2.3}
\FunctionTok{print}\NormalTok{(a}\SpecialCharTok{/}\NormalTok{b)}
\FunctionTok{print}\NormalTok{(}\StringTok{"And the output it produces"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Here is some R code"
## [1] 2.608696
## [1] "And the output it produces"
\end{verbatim}

Here is another example

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#Code to make an example graph}
\FunctionTok{library}\NormalTok{(tidyverse)}

\CommentTok{\#load some data}

\CommentTok{\#Methdod 1. Load from Tom\textquotesingle{}s computer}
\CommentTok{\#filename \textless{}{-} \textquotesingle{}/home/tom/Desktop/psy6422/mydatafile.csv\textquotesingle{}}
\CommentTok{\#df \textless{}{-} read.csv(filename)}

\CommentTok{\#Method 2. Load from URL https://rpubs.com/lokraj/github\_csv}
\FunctionTok{library}\NormalTok{ (readr)}
\NormalTok{urlfile}\OtherTok{=}\StringTok{"https://raw.githubusercontent.com/tomstafford/psy6422/master/mydatafile.csv"}
\NormalTok{df }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\FunctionTok{url}\NormalTok{(urlfile))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 25 Columns: 4
## -- Column specification -----------------------------------------------------------------------------------------------------------------------------------------------------
## Delimiter: ","
## dbl (4): Participant Number, Total ASRS Score, Inattention subscale, Hyperac...
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#rename columns for easy labelling}
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rename}\NormalTok{(}\AttributeTok{ppt =} \StringTok{"Participant Number"}\NormalTok{,}\AttributeTok{asrs =} \StringTok{"Total ASRS Score"}\NormalTok{)}

\CommentTok{\#plot parameters}
\NormalTok{plottitle  }\OtherTok{\textless{}{-}}  \StringTok{\textquotesingle{}ASRS values for each participant\textquotesingle{}}
\NormalTok{xlab  }\OtherTok{\textless{}{-}}  \StringTok{\textquotesingle{}Participant number\textquotesingle{}}
\NormalTok{ylab  }\OtherTok{\textless{}{-}}  \StringTok{\textquotesingle{}Total ASRS score\textquotesingle{}}
\NormalTok{pointsize  }\OtherTok{\textless{}{-}}  \DecValTok{7}

\CommentTok{\#make plot}
\NormalTok{p1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data=}\NormalTok{df,}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{ppt,}\AttributeTok{y=}\NormalTok{asrs))}
\NormalTok{p1 }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size=}\NormalTok{pointsize) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(plottitle) }\SpecialCharTok{+}
  \FunctionTok{xlab}\NormalTok{(xlab) }\SpecialCharTok{+}
  \FunctionTok{ylab}\NormalTok{(ylab)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics[width=1\linewidth]{070-rmarkdown_files/figure-latex/asrsscatter-1} \end{center}

You don't need to show the r code, but can still include it in the document and use it to generate figures etc.

The scatterplot above uses participant number as one of the axes, which doesn't really make any sense. A histogram is a better way of visualising the spread of scores on a single variable, so here is one:

\begin{center}\includegraphics[width=1\linewidth]{070-rmarkdown_files/figure-latex/examplehistogram-1} \end{center}

The code to make this plot is contained in the same \texttt{.Rmd} file as this text, but I've hidden it so only the output is shown. To do this I set \texttt{echo\ =\ FALSE} for the r chunk in the \texttt{.Rmd} file. You'll have to look at the \href{https://github.com/tomstafford/psy6422/blob/master/070-rmarkdown.Rmd}{source file} to see this, because - obviously! - in the webpage you don't see any code.

\hypertarget{options-for-code-chunks}{%
\subsection{Options for code chunks}\label{options-for-code-chunks}}

Other \href{https://rmarkdown.rstudio.com/lesson-3.html}{options for code chunks include}

\begin{itemize}
\tightlist
\item
  \texttt{include\ =\ FALSE} makes the code and results invisible, but the code still runs
\item
  \texttt{message\ =\ FALSE} hides messages generated by the code
\item
  \texttt{warning\ =\ FALSE} hides error messages and warnings (normally you want to pay attention to these, but they can make your final document untidy)
\item
  \texttt{fig.cap\ =\ "..."} puts a caption on any visualisation output
\end{itemize}

\hypertarget{include-r-in-inline-text}{%
\subsection{Include r in inline text}\label{include-r-in-inline-text}}

You can also put single values in ongoing text using Rmarkdown

Imagine you have some data

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{42}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{34}\NormalTok{,}\DecValTok{63}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

You can then refer to it in the text. Like this: the mean of the data is 25.5

If you are viewing on the webpage you see the answer, but the file contains an instruction to calculate \texttt{mean(data)}.

Neat, eh?

\hypertarget{conclusion}{%
\section{Conclusion}\label{conclusion}}

Rmarkdown documents give you a powerful way to combine text, code and code outputs in one file. That means you don't lose track of how graphs are generated, or statistics are calculated. With RMarkdown your workflow is reproducible, so if you add new data you can update the final report with just one click. RMarkdown documents also encourage you to document fully and explain your code. You can export to different formats depending on your audience, all from the same file.

\hypertarget{exercises-3}{%
\section{Exercises}\label{exercises-3}}

\begin{itemize}
\tightlist
\item
  Create a new RMarkdown document
\item
  Describe in text the data you are thinking of using for your assignment.

  \begin{itemize}
  \tightlist
  \item
    Use some highlights: bold, italics
  \item
    Use headings
  \end{itemize}
\item
  Include an R chunk importing the data and showing the first few lines of the data (hint: use the \texttt{head} command)
\item
  Include some more text describing the key variables you are interested in
\item
  Show a graph of something (either a scatterplot, or a histogram perhaps)
\item
  Include some inline text, reporting a mean value (as my last example above)
\item
  Make PDF and a Word file by clicking ``knit''
\item
  Send the .Rmd file *and the PDF to me via a Slack direct message
\end{itemize}

Using RMarkdown is essential on this course. These exercises help you check you have mastered this material, as well as giving another opportunity for Tom to feed back on your project

\hypertarget{advanced}{%
\section{Advanced}\label{advanced}}

Set the \href{https://bookdown.org/yihui/rmarkdown/html-document.html}{html output options} in the YAML to make your output look nicer

\begin{Shaded}
\begin{Highlighting}[]
\PreprocessorTok{{-}{-}{-}}
\FunctionTok{title}\KeywordTok{:}\AttributeTok{ }\StringTok{"Habits"}
\FunctionTok{output}\KeywordTok{:}
\AttributeTok{  }\FunctionTok{df\_print}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}paged\textquotesingle{}}
\AttributeTok{  }\FunctionTok{code\_folding}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}show\textquotesingle{}}
\PreprocessorTok{{-}{-}{-}}
\end{Highlighting}
\end{Shaded}

\hypertarget{checklist-5}{%
\section{Checklist}\label{checklist-5}}

\begin{itemize}
\tightlist
\item
  Create RMarkdown documents
\item
  Knit to HTML, Word and/or PDF
\item
  Incorporate text formatting like bold, italics, headings and hyperlinks
\item
  Incorporate inline R code (e.g.~to report variable values)
\item
  Incorporate code chunks

  \begin{itemize}
  \tightlist
  \item
    understand that these can be defined with names and/or options
  \item
    use the echo=FALSE to \emph{not} show code chunks
  \end{itemize}
\item
  Incorporate graphical output
\end{itemize}

\hypertarget{resources-6}{%
\section{Resources}\label{resources-6}}

\begin{itemize}
\tightlist
\item
  \href{https://rmarkdown.rstudio.com/}{RStudio intro to Rmarkdown}
\item
  Xie et al (2021): \href{https://bookdown.org/yihui/rmarkdown/}{R Markdown: The Definitive Guide}
\item
  \href{https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf}{RStudio RMarkdown cheatsheet}
\item
  \href{https://www.r-bloggers.com/2020/02/getting-started-in-r-markdown-2/}{Getting started in R markdown}
\item
  Helps with learning Markdown conventions: \href{https://markdownlivepreview.com/}{markdownlivepreview.com}
\item
  Making Word documents: \href{https://rmarkdown.rstudio.com/articles_docx.html}{Happy collaboration with Rmd to docx}
\item
  Install this to make PDFs work: \href{https://miktex.org/download}{Getting MiKTeX}
\item
  You can write beautifully APA formatted manuscripts in RMarkdown: \href{https://github.com/tomstafford/rmarkdown_apa}{A minimal example of APA manuscript preparation, integrating text \& analysis code, using Rmarkdown and papaja}
\end{itemize}

\hypertarget{ssh-and-the-command-line}{%
\chapter{ssh and the command line}\label{ssh-and-the-command-line}}

Before this class please install the \href{https://www.sheffield.ac.uk/it-services/vpn}{University VPN} and confirm it works {[}estimated time: 5-10 minutes{]}

In this class we will introduce the idea of the command line, running commands without the normal graphical user interface (GUI) and accessing remote computers using ssh (secure shell).

\hypertarget{launching-the-terminal}{%
\section{Launching the Terminal}\label{launching-the-terminal}}

On Windows or Mac, search `Terminal' in the launcher. You should see a small black box (called ``Command Prompt'' on Windows) with a cursor. On windows you can also enter \texttt{cmd.exe} in the search box in the bottom left.

Note that the cursor appears after some information that shows a file path and/or computer identity. Just as RStudio has a working directory, a location where it looks to load or save files, so with the command line. This is very important, since many command line instructions will only work if they are run \emph{in the right place}.

\hypertarget{changing-folders-navigating-the-directory-tree}{%
\section{Changing folders (`navigating the directory tree')}\label{changing-folders-navigating-the-directory-tree}}

Get the contents of the current directory with \texttt{dir} (on Windows) or \texttt{ls} (on Mac).

You will get a list of contents, some of these things are folders, some are files. Can you identify which is which?

You can move into a subfolder, using \texttt{cd\ foldername}. You can move up/back the path using \texttt{cd\ ..}

You can get the current path \texttt{cd} (Windows) or \texttt{pwd} (Mac)

This way you can navigate all of the files stored on your computer. It is fiddly and annoying compared to the normal GUI method, but it is more fundamental to how computers work `under the hood' and this way of interacting with computers is necessary in some situations (including, often, accessing remote computers).

Remeber, like in RStudio, you can use TAB to autocomplete commands.

\hypertarget{networking}{%
\section{Networking}\label{networking}}

Computers connected to a network have an address, called an \href{https://en.wikipedia.org/wiki/Internet_Protocol}{IP address}, which is always four numbers separated by dots. You are used to navigating the internet using domain names such as \href{}{sheffield.ac.uk}, but these names exist for human convenience. Like the command line for individual computers, IP addresses are closer to the metal of how computer networks actually work.

Copy this IP into your browser and see which website it takes you to: \href{http://143.167.2.102}{143.167.2.102}.

You computer is also connected to the internet, so it has an IP address. You can find this out by typing \texttt{ipconfig} (Windows) or \texttt{ifconfig} (Mac) at the command line. (You can also google `what is my ip' but that won't work for what we're about to do). This command should give you a bunch of information. Look for the IP addresses. If you are at home you may see one with the first two numbers \texttt{192.168.xxx.xxx}. If you are on campus you should see an IP of the form `172.xxx.xxx.xxx'. All computer on the University network have IPs which start with the same number.

Now launch the University VPN and look for your IP again. If you are off campus it should change, so you now have an IP which starts 172. Remember this number, we will use it later.

\hypertarget{ping}{%
\section{Ping}\label{ping}}

Computers talk to each other in lots of different ways, but you are probably mostly familiar with webpages - the ``world wide web'' (www) served via the \href{https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol}{http protocol}.

One of the very simplest ways for two computers to talk to each other is \texttt{ping} which is just a tool to check whether two computers can pass messages back and forth. The content of the message isn't important, it is just to check that they are both connected to the network

You can ping an IP or a website. Try it at the command line

\texttt{ping\ shef.ac.uk}

You should get back a bunch of lines will tell you how long, in milliseconds, your computer took to get a message to and from that website. Try it with somewhere further away.

\texttt{ping\ wapo.com} (the East coast of the USA), or \texttt{ping\ globaltimes.cn} (mainland China)

But we can also ping individual machines. ``sharc'' is one of the \href{https://docs.hpc.shef.ac.uk/en/latest/}{high performance computing} (HPC) clusters at Sheffield. You can only talk to it if you are inside the University network (i.e.~you need to be on campus or turn your VPN on). Try

\texttt{ping\ sharc.shef.ac.uk}

If you've turned your VPN on correctly it will work.

\hypertarget{remote-access-using-ssh}{%
\section{Remote access using SSH}\label{remote-access-using-ssh}}

If two computers are connected, you may be able to remotely access one from the other using a command called ssh. This takes the form

\texttt{ssh\ user@machine\_ip}

Tom will set up a machine for you to try this in class. If successful you should see something like this

The terminal will look similar, but commands you run will now execute on this remote machine. You may also have changed operating system, so you rather than the commands for Mac or Windows, you need to use the commands the work on the remote machine. Many HPC machines and webservers are linux machines (and so is the one we will connect to in class).

\hypertarget{find-files-run-files-copy-files}{%
\section{Find files, run files, copy files}\label{find-files-run-files-copy-files}}

\emph{This section assumes you are working on a remote linux machine}

Let's use the command \texttt{find} to look on this remote computer for any R scripts. The use of * here is known as ``a wildcard''

\texttt{find\ -name\ \textquotesingle{}*.R\textquotesingle{}}

We can run R on the remote computer, but you can't run RStudio (because the terminal doesn't show graphics, only text). Running software without the GUI is known as running software ``headless''.

\texttt{R}

Will launch an interactive R console. Quit with \texttt{q()}

But we can also run the script without launching R (so the will run the script and then quit, leaving us back at the terminal. You can either navigate to the containing folder and run it.

\texttt{Rscript\ toyscript.R}

You can also feed the script to R by specifying the full path

\texttt{Rscript\ home/neo/Desktop/toyscript.R}

Find out how long the script takes to run by putting \texttt{time} in front

\texttt{time\ Rscript\ toyscript.R}

Now there's no point running a simple R script remotely, but when you have very large data it can be convenient to run your analysis on a remote machine which is more powerful (or on many remote machines, which allows parallel processing).

Let's copy this script from the remote machine to our home machine. To do this you need the \texttt{scp} command and to know your username and ip address. The path to where you want the file saved comes after the colon:

\texttt{scp\ toyscript.R\ \ user@your\_ip:/path/to/Desktop/toyscript.R}

scp will work on linux or mac, but not on windows.

\hypertarget{switches}{%
\subsection{switches}\label{switches}}

Often we feed additional options (sometimes called `switches') to command line tools. So the command \texttt{espeak} speaks words aloud

\texttt{espeak\ "hello"}

We can read the \href{https://linux.die.net/man/1/espeak}{espeak documentation} to see what the options are. Let's adjust the pitch and speed.

\texttt{espeak\ -p\ 8\ "hello\ but\ with\ extra\ gravitas"}

\texttt{espeak\ -s\ 230\ "hello\ my\ name\ is\ speedy"}

\hypertarget{exercises-4}{%
\section{Exercises}\label{exercises-4}}

\textbf{These exercises will need to be done in the week after class, since the remote machine is not turned on permanently. See slack for the IP, username and password to use for remote access}

\begin{itemize}
\tightlist
\item
  Enter the remote IP in a browser - this shows a website served from the remote computer
\item
  remote access it using ssh
\item
  find the file index.html

  \begin{itemize}
  \tightlist
  \item
    hint: it is in /var/www/html
  \end{itemize}
\item
  copy to your local machine using scp
\item
  edit using a text editor and save on your local machine
\item
  copy back to the server
\item
  look again at the IP in a browser to verify that you changed it (remember to press refresh/F5/clear your cache)
\end{itemize}

\hypertarget{checklist-6}{%
\section{Checklist}\label{checklist-6}}

\begin{itemize}
\tightlist
\item
  Identify and launch a terminal window
\item
  Navigate the directory tree using command line instructions
\item
  find your ip address
\item
  ping an ip or website
\item
  find files, run programmes, on remote machines

  \begin{itemize}
  \tightlist
  \item
    feed options to command line tools using switches
  \end{itemize}
\item
  copy files to/from remote machines using scp
\end{itemize}

\hypertarget{resources-7}{%
\section{Resources}\label{resources-7}}

\begin{itemize}
\tightlist
\item
  \href{https://www.nature.com/articles/d41586-021-00263-0}{Five reasons why researchers should learn to love the command line}
\item
  \href{https://www.sheffield.ac.uk/it-services/vpn}{University of Sheffield VPN}
\item
  For historical interest: \href{http://cristal.inria.fr/~weis/info/commandline.html}{In the Beginning\ldots{} Was the Command Line} (1999) Neal Stephenson
\item
  If you want to experiment with linux you may start with \href{https://ubuntu.com/download/desktop}{Ubuntu Linux}
\end{itemize}

\hypertarget{git-and-github}{%
\chapter{Git and Github}\label{git-and-github}}

With our guest lecturer, \href{https://www.sheffield.ac.uk/psychology/people/research/sebastian-james-0}{Seb James}

\hypertarget{motivation-1}{%
\section{Motivation}\label{motivation-1}}

Git is an incredible common tool among software developers and computer scientists. It has powerful functionality for coordinate code projects across many people. As a core data science tool I want everyone on the course to have had some exposure to it, and to recognise the key concepts (as well as the value it has). We will not be using the full functionality in the course.

\hypertarget{before-the-class}{%
\section{Before the class}\label{before-the-class}}

Create an account on \href{https://github.com/}{github.com}, if you don't already have one.

Install git on your machine.

\begin{itemize}
\tightlist
\item
  On Windows: \url{https://git-scm.com/download/win}
\item
  On Mac: \url{https://git-scm.com/download/mac}
\end{itemize}

Until you do that you DON'T have the git features enabled in RStudio.

\hypertarget{accessing-git}{%
\section{Accessing git}\label{accessing-git}}

If you have RStudio you can access git using point and click (top right), or via the terinmal (the tab next to Console on the bottom right).

Outside of RStudio:

\begin{itemize}
\tightlist
\item
  Students using windows can install: \url{https://gitforwindows.org/} Once installed they should be able to open a git bash window and type \texttt{git\ -\/-version}
\item
  Students on a Mac will have git if they install `Xcode' and `Command line tools for Xcode'.They can test by opening a terminal and typing \texttt{git\ -\/-version}
\end{itemize}

\hypertarget{resources-for-the-class}{%
\section{Resources for the class}\label{resources-for-the-class}}

This week's class is taught by Seb James. Links to his materials are below

\begin{itemize}
\tightlist
\item
  Intro to git talk: \url{https://github.com/ABRG-Models/GitTutorial}
\item
  PDF of slides: \url{https://github.com/ABRG-Models/GitTutorial/blob/master/talk.pdf}
\item
  Software carpentry: \url{http://sebjameswml.github.io/git-novice/}
\end{itemize}

Examples of two published projects supported by Github repos

\begin{itemize}
\tightlist
\item
  \url{https://github.com/ABRG-Models/AttractorScaffolding}
\item
  \url{https://github.com/ABRG-Models/linetask2014}
\item
  \url{https://github.com/ABRG-Models/BarrelEmerge/tree/eLife_submission1_full}
\end{itemize}

\hypertarget{checklist-7}{%
\section{Checklist}\label{checklist-7}}

Git and github are fundamental tools which will be relevant for collaborating on reliable computational projects, but it is not essential you master the full range of capabilities they offer for this module.

By the end of this class you should

\begin{itemize}
\tightlist
\item
  have a github account
\item
  installed git on your local machine
\item
  understand why git is useful for code projects
\item
  recognise the essential terminology: repo/repository, remotes and local, clone, branches, commit, merge, rebase, push/pull
\end{itemize}

\hypertarget{resources-8}{%
\section{Resources}\label{resources-8}}

Official documentation: \href{https://help.github.com/en/github/working-with-github-pages}{github pages}

\href{https://www.sbf5.com/~cduan/technical/git/}{Understanding Git Conceptually}

\href{https://kbroman.org/github_tutorial/}{git/github guide a minimal tutorial}

Vuorre, M., \& Curley, J. P. (2018). \href{https://journals.sagepub.com/doi/full/10.1177/2515245918754826}{Curating research assets: A tutorial on the git version control system}. Advances in Methods and Practices in Psychological Science, 1(2), 219-236.

\hypertarget{publishing}{%
\chapter{Publishing}\label{publishing}}

Git and github allows collaboration and version control on large software projects, but it also provides a convenient way of publishing data projects to the web. This is the way we will use to produce our \href{final-project.html}{final projects} for this module.

\hypertarget{sharing-your-rmd-files-via-github-pages}{%
\section{Sharing your Rmd files via Github pages}\label{sharing-your-rmd-files-via-github-pages}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a new github repositry (a ``repo'')
\end{enumerate}

\begin{itemize}
\tightlist
\item
  click ``initilise with README.md''
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  ``clone'' to your computer
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Either use git to manage the files in the repo, (in which case you need to add, commit and push to the remote repositry)
\item
  OR upload the files to the repo via the github.com web interface.
\end{itemize}

If you are making multiple changes to your files, using git on your computer is easier (see the class on \href{git-and-github.html}{git and github})

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\item
  Save your analysis in a file \texttt{index.Rmd}
\item
  Add an .html file called index.html. This file can be created by clicking `knit' in RStudio from your .Rmd file (see the class on \href{rmarkdown.html}{Rmarkdown}
\end{enumerate}

\begin{itemize}
\tightlist
\item
  selecting `knit to HTML' if you haven't specified this in the header
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Upload or ``Push'' your files, most importantly the \texttt{index.html} file to a github repo, probably viewable at something like: \texttt{https://github.com/username/myrepo/}
\end{enumerate}

\begin{itemize}
\tightlist
\item
  \textbf{NOTE}: To make the repository an archive of your project you can and should add all the other other files and folders, including the .Rmd file which you used to make the index.html file
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Visit this link and, via the browser,
\end{enumerate}

\begin{itemize}
\tightlist
\item
  click ``Settings'' and scroll down to ``Pages''. Under ``Source'' select ``Branch: main''. Click Save
\item
  Find your pages, after a short moment, at \href{}{yourusername.github.io/yourreponame}
\item
  Example: my repo is at \href{https://github.com/tomstafford/supertues}{github.com/tomstafford/supertues}, so the published pages are at \href{https://tomstafford.github.io/supertues/}{tomstafford.github.io/supertues}
\end{itemize}

\hypertarget{other-sharing-options}{%
\section{Other sharing options}\label{other-sharing-options}}

\href{OSF.io}{The Open Science Framework} a platform which provides storage and sharing for all materials across the whole lifespan of a project. Incredibly useful for sharing, but doesn't look as nice as github pages, so we're not using it on psy6422.

\href{https://jupyter.org/}{Jupyter notebooks}. Another way of mixing description, code and outputs. More common for python code.

\begin{itemize}
\tightlist
\item
  Example: \href{https://github.com/tomstafford/cavojova2018/blob/master/cavojava_reanalysis.ipynb}{Light reanalysis of Čavojová et al (2018)}
\end{itemize}

\hypertarget{checklist-8}{%
\section{Checklist}\label{checklist-8}}

\begin{itemize}
\tightlist
\item
  Publish website using github pages
\item
  Understand that index.html is the default page for a website
\item
  Use projects in RStudio
\end{itemize}

\hypertarget{resources-9}{%
\section{Resources}\label{resources-9}}

\begin{itemize}
\tightlist
\item
  Cathy Gao: \href{https://rpubs.com/cathydatascience/518692}{How to publish project online?}
\item
  \href{https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN}{Using git with RStudio}
\item
  Publishing large projects \href{https://www.bookdown.org/}{bookdown}
\end{itemize}

\hypertarget{advanced-topics}{%
\chapter*{Advanced Topics}\label{advanced-topics}}


The first ten topics of this course represent the core that I want every student to take away from the course. With these topics you should be equipped to focus on your personal data project for which makes up the majority of the grade on the course.

The remaining time in the timetable is available for supervision on this data project, and to cover more advanced topics. For these topics, rather than provide a lecture, we will work in small groups to follow exercises and tutorials which exist outside of the course. The motivation for this is two-fold. First, because all your future work will be teamwork, I want students to graduate from this course with experience working together on technical projects. Whether you are more or less confident in the technical requirements, you will learn a lot from trying to share what you know or think you know with a group. Second, a key skill for ongoing development in data science is to teach yourself. There world is rich in useful advice, tutorials and examples. Only by discovering how you can use these will you maximise your potential after you have finished this module.

\hypertarget{section}{%
\section{2022}\label{section}}

Topics to be determined (see below)

\hypertarget{section-1}{%
\section{2021}\label{section-1}}

In 2021 we voted on the advanced topics to cover in class:

\begin{itemize}
\tightlist
\item
  \href{interactive-graphs-with-shiny.html}{interactive plots with shiny}
\item
  \href{animated-plots-with-gganimate.html}{animated plots with gganimate}
\item
  \href{database-queries-sql.html}{SQL}
\item
  \href{python.html}{python}
\end{itemize}

\hypertarget{other-topicsresources}{%
\section{Other topics/resources}\label{other-topicsresources}}

\begin{itemize}
\tightlist
\item
  regexone.com \href{https://regexone.com/}{Learn Regular Expressions with simple, interactive exercises.}
\item
  Performance tuning: \href{https://www.r-bloggers.com/2021/06/code-performance-in-r-parallelization/}{Code performance in R: Parallelization}
\item
  \href{https://tinyheero.github.io/jekyll/update/2015/07/26/making-your-first-R-package.html}{Making Your First R Package}
\end{itemize}

\hypertarget{reproducibility}{%
\section{Reproducibility}\label{reproducibility}}

Dependencies

\begin{itemize}
\tightlist
\item
  Package management

  \begin{itemize}
  \tightlist
  \item
    \url{https://groundhogr.com/}
  \item
    renv: \url{https://github.com/rstudio/renv}
  \item
    e.g.~\url{https://luisdva.github.io/rstats/annotater/}
  \end{itemize}
\item
  Reproducible workflows

  \begin{itemize}
  \tightlist
  \item
    \href{https://books.ropensci.org/targets/}{Targets} (was Drake)
  \end{itemize}
\item
  Containers

  \begin{itemize}
  \tightlist
  \item
    e.g.~\href{https://www.docker.com/}{docker}
  \end{itemize}
\end{itemize}

Code Review

\begin{itemize}
\tightlist
\item
  Strand, J. F. (2021, March 31). \href{https://psyarxiv.com/rsn5y}{Error Tight: Exercises for Lab Groups to Prevent Research Mistakes.} \url{https://doi.org/10.31234/osf.io/rsn5y}
\item
  \href{https://codecheck.org.uk/}{CODECHECK}
\end{itemize}

\hypertarget{general-righteousness}{%
\section{General righteousness}\label{general-righteousness}}

You should use a password manager. Really. \href{https://www.lastpass.com}{LastPass} is recommended

You should know how to use a VPN

\begin{itemize}
\tightlist
\item
  Advice for Sheffield students here: \href{https://www.sheffield.ac.uk/it-services/remote/students}{Working remotely - information for students}
\item
  You can test by visiting \href{https://journals.sagepub.com/doi/full/10.1177/0956797613511466}{this page}. If you are in the University network (either on campus or via a VPN) it will offer you the chance to download the article PDF. Otherwise it will try and charge you \$35 for the privilege.
\end{itemize}

\hypertarget{interactive-graphs-with-shiny}{%
\chapter*{- Interactive graphs with Shiny}\label{interactive-graphs-with-shiny}}


\hypertarget{before-class}{%
\section{Before class}\label{before-class}}

Please install shiny

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"shiny"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"shinyjs"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"shinydashboard"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Please visit \href{https://www.shinyapps.io/}{shinyapps.io} and make an account (you may be able to activate an account associated with your TUoS account by clicking `sign in with Google')

\hypertarget{exercises-5}{%
\section{Exercises}\label{exercises-5}}

We are going to follow \href{https://debruine.github.io/}{Lisa DeBruine}'s tutorial - \href{https://psyteachr.github.io/shiny-tutorials/01-first-app.html}{First Shiny App}.

Additional challenges / exercises

\begin{itemize}
\tightlist
\item
  Make scatterplot rather than histogram
\item
  Make the app load data which you save in the project directory
\item
  Deploy to the web with \href{https://www.shinyapps.io/}{shinyapps.io}

  \begin{itemize}
  \tightlist
  \item
    This page may be helpful when combining exercises 2 and 3: \href{https://support.rstudio.com/hc/en-us/articles/229848967-Why-does-my-app-work-locally-but-not-on-shinyapps-io-}{Why does my app work locally, but not on shinyapps.io}
  \end{itemize}
\item
  Look for and share additional resources on shiny apps
\end{itemize}

\hypertarget{resources-10}{%
\section{Resources}\label{resources-10}}

\begin{itemize}
\tightlist
\item
  This is part of a set of \href{https://psyteachr.github.io/shiny-tutorials/index.html}{Shiny Tutorials}
\item
  RStudio: \href{https://shiny.rstudio.com/gallery/}{Shiny User Showcase}
\item
  Example: \href{https://shiny.rstudio.com/gallery/movie-explorer.html}{Movie-explorer}
\item
  Example: \href{https://sheffield-university.shinyapps.io/decision_power/}{Enhanced sensitivity to group differences with decision modelling}
\item
  \href{https://www.r-bloggers.com/2021/04/the-anatomy-of-a-shiny-application/}{The Anatomy of a Shiny Application}
\item
  \href{https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/}{Shiny widgets} - useful to get an idea of what you can do
\end{itemize}

\hypertarget{examples-of-interactive-graphs-which-use-different-tech-javascript}{%
\section{Examples of interactive graphs which use different tech (Javascript!)}\label{examples-of-interactive-graphs-which-use-different-tech-javascript}}

\begin{itemize}
\tightlist
\item
  \href{https://rpsychologist.com/d3/cohend/}{Interpreting Cohen's d Effect Size} by Kristoffer Magnusson
\item
  Example: Grid histograms of \href{https://olihawkins.com/visualisation/14}{Constituencies by median age in 2017} from Oli Hawkins
\end{itemize}

\hypertarget{animated-plots-with-gganimate}{%
\chapter*{- Animated plots with gganimate}\label{animated-plots-with-gganimate}}


This is a package developed by Thomas Lin Pedersen and colleagues. It has it's own page here:
\href{https://gganimate.com/}{gganimate}

This is the documentation. It explains how to install it, and what you can do with it, and - if you dig a bit - what the options are for the various functions.

Get started by installing:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"gganimate"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This may give you a warning about additional packages you can install to help create output files in gif or movie file format

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"gifski"}\NormalTok{)}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"av"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This \emph{in turn} may ask for additional software to be installed on your machine, and the instructions will depende on what kind of operating system you are on.

Assuming you have fixed that, it's time to make some plots:

Here are three different turorials on gganimate:

\begin{itemize}
\tightlist
\item
  gganimate.com: \href{https://gganimate.com/articles/gganimate.html}{Getting Started}
\item
  datanovia.com: \href{https://www.datanovia.com/en/blog/gganimate-how-to-create-plots-with-beautiful-animation-in-r}{How to Create Plots with Beautiful Animation in R}
\item
  rpubs.com/jedoenriquez: \href{https://rpubs.com/jedoenriquez/animatingchartsintro}{An Intro to Animating Charts with gganimate}
\end{itemize}

The first is written by the package authors. Pay attention the material on `rendering' at the end, this is important if you want to make animations you can share.

The second gives a good exploration of the different option, nicely showing off possible effects and how you would use them with different data sets.

The third is the shortest and simplest, but note that they use a different structure for creating ggplot objects than we do (piping the data to ggplot). If you are not sure, start here.

There is some nuance in getting the animation to save. You are having trouble with this, I recommend you divide the data frame preparation, animate plot creation and rendering into seperate stages. Once you have made a plot object, \texttt{p}, try this

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{animate}\NormalTok{(p,}\AttributeTok{renderer=}\FunctionTok{gifski\_renderer}\NormalTok{(}\StringTok{"my\_animation.gif"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{exercises-6}{%
\section{Exercises}\label{exercises-6}}

\begin{itemize}
\tightlist
\item
  Pick some data to animate
\item
  Control the speed of the animation
\item
  Save the animation as a gif file and add it to a RMarkdown document (and publish to github pages)
\item
  bonus question, why do it this way rather than use R to generate the animation on the page?

  \begin{itemize}
  \tightlist
  \item
    Use the \texttt{\{frame\_time\}} attribute in a label
  \end{itemize}
\item
  How does gganimate know what values to put in \texttt{frame\_time}?

  \begin{itemize}
  \tightlist
  \item
    Add small black marks to show the starting values of the data. Which option does this
  \end{itemize}
\item
  Look at the documentation and see if you can figure out what line to add to achieve this
\item
  \href{https://gganimate.com/reference/shadow_mark.html}{Hint}
\item
  Why do you need to render a gif?

  \begin{itemize}
  \tightlist
  \item
    Why can't you just right-click `copy image' on the RStudio output? What happens if you do this?
  \end{itemize}
\end{itemize}

\hypertarget{database-queries-sql}{%
\chapter*{- Database queries: SQL}\label{database-queries-sql}}


\hypertarget{context}{%
\section{Context}\label{context}}

SQL, you can pronouce it S-Q-L or ``sequel'', is a database system. It is old, in internet terms, but not going anywhere, and core to many data science jobs.

\hypertarget{key-information}{%
\section{Key information}\label{key-information}}

There are different flavours, such as MySQL which is used by WordPress websites, or PostgreSQL / postgres.

The common core of SQL is that that it is a `relational' database management systems. It is used for storing information and saying how it is connected to other bits of information. Compare this to the spreadsheet/CSV, which stores information in a list.

Note that SQL is designed for databases with potentially billions of rows of data. It demands working habits where you can't ``look'' at the data all at once, as you would with a spreadsheet.

SQL has it's \href{https://en.wikipedia.org/wiki/SQL_syntax}{own terminology} but to start off we will think about two things

\begin{itemize}
\tightlist
\item
  Tables: these are rows and columns of data.
\item
  Queries: these are commands we use to select, pull out and/or combine tables
\end{itemize}

Tables have `fields' (the variable names which define what information is stored, you may be used to thinking of these as the columns of your data)

Tables also have `records' (the stored information, which you be used to thinking of as the rows of your data)

\hypertarget{exercises-7}{%
\section{Exercises}\label{exercises-7}}

In class, I will illustrate the key concepts of SQL with an example from my own research

\begin{itemize}
\tightlist
\item
  Stafford, T. (2018). \href{http://journals.sagepub.com/doi/10.1177/0956797617736887}{Female chess players outperform expectations when playing men}. \emph{Psychological Science, 29}(3), 429-436. (\href{https://psyarxiv.com/bpy3t/}{Preprint}).
\end{itemize}

Then we will look at this interactive turorial:

\begin{itemize}
\tightlist
\item
  \href{https://sqlzoo.net}{sqlzoo.net}
\end{itemize}

Specifically, we will do

\begin{itemize}
\tightlist
\item
  SELECT basics \url{https://sqlzoo.net/wiki/SELECT_basics}
\item
  JOIN \url{https://sqlzoo.net/wiki/The_JOIN_operation}
\end{itemize}

\hypertarget{checklist-9}{%
\section{Checklist}\label{checklist-9}}

By the end of the class, you should

\begin{itemize}
\tightlist
\item
  Know what SQL is and why it is important for data science
\item
  Understand key concepts: tables, queries, fields, rows
\item
  Recognise and solve problems involving SQL commands such as SELECT, FROM, WHERE, wildcard (\%), JOIN, ON,
\end{itemize}

\hypertarget{resources-11}{%
\section{Resources}\label{resources-11}}

\begin{itemize}
\tightlist
\item
  \href{https://selectstarsql.com/}{Select Star SQL} - interactive tutorial
\item
  w3schools.com \href{https://www.w3schools.com/sql/sql_join.asp}{JOIN}
\item
  Interactive tutorial \href{https://sqlzoo.net/wiki/SELECT_basics}{sqlzoo.net/wiki/SELECT\_basics}
\item
  \href{https://www.r-bloggers.com/2021/03/sqlite-is-great-for-r-and-shiny-the-dbmisc-package-may-help-a-bit/}{SQLite is great for R and Shiny. The dbmisc package may help a bit.}
\item
  example SQL data from Kaggle: SQLLite database on \href{https://www.kaggle.com/anth7310/mental-health-in-the-tech-industry}{Mental Health in the Tech Industry}
\end{itemize}

\hypertarget{python}{%
\chapter*{- Python}\label{python}}


This course teaches general principles of coding and computation, and specific skills for data management and visualisation in R. Lots of people in the data science world, particularly in areas which align with computer science / machine learning, use Python.

I decided to teach this course in R because the community around a language is as important as the language. You can do anything in any language, and most things as easily in Python as in R, but Psychologists, biologists and scholars from across the social sciences tend to use R, so I'm teaching this course in R.

\hypertarget{motivation-2}{%
\section{Motivation}\label{motivation-2}}

In my very prejudiced opinion, there are three reasons to prefer Python to R. These are

\begin{itemize}
\tightlist
\item
  \href{https://docs.conda.io/en/latest/}{Conda}, for package, dependency and environment management
\item
  \href{https://pandas.pydata.org/}{Pandas}, the data wrangling toolkit
\item
  Certain toolkits,

  \begin{itemize}
  \tightlist
  \item
    e.g.~Machine Learning tools. Computer Scientists tend to use Python, so the latest in ML, Deep Learning etc is more accessible if you use Python (e.g.~\href{https://pytorch.org/}{PyTorth}, \href{https://scikit-learn.org/stable/}{scikit-learn})
  \item
    e.g.~Running experiments, using \href{https://www.psychopy.org/}{psychopy}
  \end{itemize}
\end{itemize}

I'd probably also do anything involving talking to hardware, an API, web-scraping or bulk text processing in Python, but this may just be prejudice. Python is a good interstitial language.

\hypertarget{a-worked-example}{%
\section{A worked example}\label{a-worked-example}}

To showcase python, we'll be trying to reproduce an analysis by Oli Hawkins, showing off a \href{https://twitter.com/olihawkins/status/1285664698201972736}{support-vector machine classification of Penguin data}

repo: \href{https://github.com/olihawkins/penguin-models}{github.com/olihawkins/penguin-models}

\hypertarget{preparation}{%
\section{Preparation}\label{preparation}}

Before the class, please

\begin{itemize}
\item
  install \href{https://www.python.org/downloads/}{Python}. \textbf{note} Python underwent a major update from version 2 to 3. Make sure you install version 3+ of python.
\item
  install \href{https://docs.conda.io/en/latest/miniconda.html}{miniconda}

  \begin{itemize}
  \tightlist
  \item
    You MAY have installed python and conda already, when you installed R, if you did this via the \href{https://www.anaconda.com/}{Anaconda} distribution.
  \end{itemize}
\item
  clone \href{https://github.com/olihawkins/penguin-models}{the penguin-model repo}
\item
  create a conda environment, following the instructions in the repo README.md

  \texttt{conda\ env\ create\ -f\ environment.yml}
\end{itemize}

\hypertarget{in-class}{%
\section{In class}\label{in-class}}

We will use the Spyder IDE

\texttt{conda\ install\ spyder}

I will showcase some features of python, focusing on things which are the same or frustratingly different from R

\begin{itemize}
\tightlist
\item
  for loops
\item
  zero indexing
\end{itemize}

This is useful if you can't manage to install python: \href{https://colab.research.google.com/}{Google Colaboratory}

We will do some basic data wrangling with pandas and seaborn

\texttt{conda\ install\ seaborn}

We will run the models, and explore the data and code, focusing on hacking a complex, existing, project

\hypertarget{after-class}{%
\section{After class}\label{after-class}}

Oli strongly recommends Aurelien Geron's 2019 book \href{https://www.oreilly.com/library/view/hands-on-machine-learning/9781492032632/}{Hands-on Machine Learning with Scikit-Learn, Keras, and TensorFlow}

If you want to learn Python, I recommend:

\begin{itemize}
\tightlist
\item
  Resource list: \href{https://wiki.python.org/moin/BeginnersGuide/NonProgrammers}{Python for Non-Programmers}
\item
  Pages \href{https://realpython.com/start-here/}{RealPython: Learn Python Programming, By Example}
\item
  Book: \href{https://jakevdp.github.io/PythonDataScienceHandbook/}{Python Data Science Handbook} by Jake VanderPlas
\item
  Book: \href{https://wesmckinney.com/pages/book.html}{Python for Data Analysis} by Wes McKinney
\item
  Pages: \href{https://chrisalbon.com/}{chrisalbon.com}
\item
  Pages: \href{https://towardsdatascience.com}{TowardsDataScience}, for example this one \href{https://towardsdatascience.com/a-quick-introduction-to-the-pandas-python-library-f1b678f34673}{A Quick Introduction to the ``Pandas'' Python Library}
\item
  Book: \href{http://www.pygaze.org/pep/}{Python for Experimental Psychologists} by Edwin Dalmaijer
\item
  Pages: \href{https://www.w3schools.com/python/default.asp}{w3Schools}
\item
  Tutorial: \href{https://github.com/satwikkansal/wtfpython}{WTF Python} (``Exploring and understanding Python through surprising snippets'')
\item
  Book: \href{https://github.com/rougier/scientific-visualization-book}{Scientific Visualization -- Python \& Matplotlib, Nicolas P. Rougier}
\end{itemize}

Other resources:

\begin{itemize}
\tightlist
\item
  Nicolas P. Rougier: \href{https://github.com/rougier/matplotlib-tutorial}{Matplotlib tutorial}
\end{itemize}

\hypertarget{appendix-appendices}{%
\appendix \addcontentsline{toc}{chapter}{\appendixname}}


\hypertarget{class-notes}{%
\chapter{Class notes}\label{class-notes}}

\hypertarget{ask-me-questions}{%
\section{Ask me questions}\label{ask-me-questions}}

Feel free to email me with questions about any aspect of the course, or problem you are having with the work, but you must include your current best answer to your own question, along with what you've tried so far (and why it didn't work).

It is easiest for me to help you with your project, either in person (see timetable) or by email if you provide a full project (e.g.~the data and code as well as the output you have so far) as well as a project rationale stating what it is you are trying to do

This is helpful guidance on posing specific coding questions \url{https://stackoverflow.com/help/how-to-ask}

\hypertarget{terminology-raw-data}{%
\section{Terminology: `Raw data'}\label{terminology-raw-data}}

Data before any processing has been done. Usually these means that the individual responses which create the data are recorded

The opposite is cleaned data (once it has been processed) and then after that summary data (in which responses are collapsed across individuals or into groups)

\#\#. What should I do if my visualisation uses a new library or package?

Ideally your code should specify all the libraries it uses. These are known as ``dependencies''. If you use an usual library it may require specific downloading to your computer, meaning that your code won't run on computers that don't have it downloaded. There are ways of managing this, but we haven't covered these in the course (google ``docker'' or ``conda'' or ``reproducible computational environments''). As long as your code indicates what you have installed (e.g.~it includes a line like

library(fancyplotslibrary)

at the beginning, don't worry about it

\hypertarget{extra-reading}{%
\chapter{Extra Reading}\label{extra-reading}}

Further reading, including books, links, demos and packages. You don't need to read all of this, but you will want to dig around. If I could recommend one book to accompany the course it would be

Healy, K. (2018). \href{https://socviz.co/}{Data visualization: a practical introduction}. Princeton University Press.

\hypertarget{visualisation-theory}{%
\section{Visualisation (theory)}\label{visualisation-theory}}

Healy, K. (2018). \href{https://socviz.co/}{Data visualization: a practical introduction}. Princeton University Press.

Cairo, A. (2012). The Functional Art: An introduction to information graphics and visualization. New Riders.

Tufte, E. R. (2001). The visual display of quantitative information. Cheshire, CT: Graphics press.

McCandless, D. (2012). Information is beautiful. London: Collins.

Wilke, C.O. (2019). \href{https://clauswilke.com/dataviz/index.html}{Fundamentals of Data Visualization}. O'Reilly. {[}free online{]}

Rougier, N. P., Droettboom, M., \& Bourne, P. E. (2014). Ten simple rules for better figures. PLoS Comput Biol, 10(9), e1003833. \url{https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003833}

Weissgerber, T. L., Milic, N. M., Winham, S. J., \& Garovic, V. D. (2015). \href{https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002128}{Beyond bar and line graphs: time for a new data presentation paradigm}. PLoS biology, 13(4).

\begin{itemize}
\tightlist
\item
  Related: \href{https://www.cedricscherer.com/2021/06/06/visualizing-distributions-with-raincloud-plots-with-ggplot2/}{Visualizing Distributions with Raincloud Plots with ggplot2}
\end{itemize}

\href{https://medium.com/nightingale}{Nightingale: The Journal of The Data Visualisation Society}

Podcast: \href{https://www.visualisingdata.com/podcast/}{Explore Explain: A Video and Podcast Series}

\href{https://medium.economist.com/why-you-sometimes-need-to-break-the-rules-in-data-viz-4d8ece284919}{Why you sometimes need to break the rules in data viz} by Rosamund Pearce

The Encyclopedia of Human-Computer Interaction, 2nd Ed.: \href{https://www.interaction-design.org/literature/book/the-encyclopedia-of-human-computer-interaction-2nd-ed/data-visualization-for-human-perception}{Data Visualization for Human Perception}

The Economist newsletter: ``\href{https://www.economist.com/offthecharts/}{Off the Charts}'' is highly recommended. Examples: \href{https://view.e.economist.com/?qs=56104efe1f008c7741aaecad26fac5ac478021656b5a9180944c48b674116491a6f66c9f3634ba531584569cbf53c8668ce8496cc20515719fb62b40048ac22dd528432bf4149fd74086ba8db6b1b99c}{better bar charts}, \href{https://view.e.economist.com/?qs=d55c97a1de83b95ad1aa9d756a88fafed0667fd13b0f03f87873b0da100014d793b5daf177867d16839f007b7c64b8febf2834c6517faf9f686782c48696e6b52d21ec363f03f3efb7bf039c6351e781}{using log scales}

\href{https://towardsdatascience.com/the-dos-and-don-ts-of-chart-making-13c629456027}{The Do's and Don'ts of Chart Making}

Riffe, T., Sander, N., \& Kluesener, S. (2021). Editorial to the Special Issue on Demographic Data Visualization: \href{https://www.demographic-research.org/volumes/vol44/36/}{Getting the point across--Reaching the potential of demographic data visualization}. Demographic research. Rostock: Max Planck Institute for Demographic Research, 2021, Vol. 44.

Franconeri, S. L., Padilla, L. M., Shah, P., Zacks, J. M., \& Hullman, J. (2021). \href{https://journals.sagepub.com/doi/pdf/10.1177/15291006211051956}{The science of visual data communication: What works}. Psychological Science in the Public Interest, 22(3), 110-161.

Lisa Charlotte Muth: \href{https://blog.datawrapper.de/text-in-data-visualizations/}{What to consider when using text in data visualizations}

\url{https://blog.datawrapper.de/text-in-data-visualizations/}

\hypertarget{the-reproducibility-crisis}{%
\section{The Reproducibility Crisis}\label{the-reproducibility-crisis}}

Cancer Biology Reproducibility Project
\url{https://www.enago.com/academy/the-reproducibility-project-cancer-biology-to-replicate-only-18-studies-now/}

Economics reproducibility
\url{https://www.wired.com/story/econ-statbias-study/}

Video: Is Most Published Research Wrong \url{https://www.youtube.com/watch?v=42QuXLucH3Q}

Demo: p-hacking \url{https://fivethirtyeight.com/features/science-isnt-broken/\#part1}

Open Science Collaboration. (2015). Estimating the reproducibility of psychological science. Science, 349(6251), aac4716.

\hypertarget{better-practice}{%
\section{Better practice}\label{better-practice}}

Munafo, M. R., et al.~(2017). A manifesto for reproducible science . Nature Human Behaviour, 1, 0021. DOI: 10.0138/s41562-016-0021.

Markowetz, F. (2015). Five selfish reasons to work reproducibly. Genome biology, 16(1), 274. \url{https://genomebiology.biomedcentral.com/articles/10.1186/s13059-015-0850-7}

A Guide to Reproducible Code in Ecology and Evolution \url{https://www.britishecologicalsociety.org/wp-content/uploads/2017/12/guide-to-reproducible-code.pdf}

Gael Varoquaux: Computational practices for reproducible science \url{https://www.slideshare.net/GaelVaroquaux/computational-practices-for-reproducible-science}

Axelrod, V. (2014). \href{https://www.frontiersin.org/articles/10.3389/fpsyg.2014.01435/full}{Minimizing bugs in cognitive neuroscience programming}. Frontiers in psychology, 5, 1435.

``our wishlist for what knowledge and skills we'd find in a well-prepared data scientist candidate coming from a masters program.'' \url{https://github.com/brohrer/academic_advisory/blob/master/curriculum_roadmap.md}

Wilson, G., Bryan, J., Cranston, K., Kitzes, J., Nederbragt, L., \& Teal, T. K. (2017). \href{https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005510}{Good enough practices in scientific computing}. PLoS computational biology, 13(6), e1005510.

\hypertarget{project-organisation-1}{%
\section{Project organisation}\label{project-organisation-1}}

Mike Frank onboarding guide \url{http://babieslearninglanguage.blogspot.co.uk/2017/01/onboarding.html}

Jenny Bryan's advice on filenames: \href{http://www2.stat.duke.edu/~rcs46/lectures_2015/01-markdown-git/slides/naming-slides/naming-slides.pdf}{Naming Things}

Emily Riederer \href{https://emilyriederer.netlify.app/post/column-name-contracts/}{Column naming contracts}

Broman \& Woo (2017) Data Organization in Spreadsheets \url{https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989}

Video: Data Sharing and Management Snafu in 3 Short Acts
\url{https://www.youtube.com/watch?time_continue=2\&v=N2zK3sAtr-4}

Hadley Wickham: Tidy Data: \url{http://vita.had.co.nz/papers/tidy-data.pdf}

\hypertarget{coding}{%
\section{Coding}\label{coding}}

Readings in Applied Data Science \url{https://github.com/hadley/stats337\#readings}

Stack overflow: asking good questions \url{https://stackoverflow.com/help/how-to-ask}

Stack overflow: provide a minimal, complete, verifable example \url{https://stackoverflow.com/help/mcve}

Our Software Dependency Problem \url{https://research.swtch.com/deps}

From Psychologist to Data Scientist \url{https://www.neurotroph.de/2019/01/from-psychologist-to-data-scientist/}

Bret Victor: \href{http://worrydream.com/LearnableProgramming/}{Learnable Programming: Designing a programming system for understanding programs}

\href{https://www.kdnuggets.com/2019/04/top-10-coding-mistakes-data-scientists.html}{Top 10 Coding Mistakes Made by Data Scientists}

\href{http://reproducibility.stanford.edu/coding-error-postmortem/}{Coding error postmortem} by Russ Poldrack, McKenzie Hagen, and Patrick Bissett (August 10, 2020)

\hypertarget{r}{%
\section{R}\label{r}}

\hypertarget{hints}{%
\subsection{Hints}\label{hints}}

\href{https://kkulma.github.io/2018-03-18-Prime-Hints-for-Running-a-data-project-in-R/}{Prime Hints For Running A Data Project In R}

RStudio Cheat Sheets: \url{https://www.rstudio.com/resources/cheatsheets/}

Here::Here \url{https://github.com/jennybc/here_here}

\href{https://twitter.com/WeAreRLadies}{We are R-ladies} - Twitter account with a rotating curator featuring discussions, package highlights, and tips

\hypertarget{courses-books}{%
\subsection{Courses / books}\label{courses-books}}

I recommend you start with swirl: \url{https://swirlstats.com/}

Lisa DeBruine, \& Dale Barr. (2019). Data Skills for Reproducible Science. Zenodo. \url{doi:10.5281/zenodo.3564348} \url{https://psyteachr.github.io/msc-data-skills/}

You may also enjoy:

Chester Ismay and Patrick C. Kennedy: \href{https://rbasics.netlify.com/}{Getting Used to R, RStudio, and R Markdown}

Matt Crump: \href{https://crumplab.github.io/rstatsforpsych/}{Reproducible statistics for psychologists with R}

Danielle Navarro: \href{https://learningstatisticswithr.com/}{Learning Statistics With R}\\
* Particularly chapter 3 \url{https://learningstatisticswithr-bookdown.netlify.com/intror}

\href{http://robust-tools.djnavarro.net/}{Data Science with R}: An introductory course by Danielle Navarro

\href{https://datasciencebox.org/?s=03}{Data Science in a Box}

Adler, J. (2010). R in a nutshell: A desktop quick reference. '' O'Reilly Media, Inc.''.

Intro to R (Liz Page-Gould): \url{http://www.page-gould.com/r/uoft/}

Grolemund, G., \& Wickham, H. (2018). R for data science.
* See also \url{https://r4ds.had.co.nz/}

\hypertarget{making-graphs-practice}{%
\section{Making graphs (practice)}\label{making-graphs-practice}}

Graphing in R (Eric-Jan Wagenmakers and Quentin F. Gronau): \url{http://shinyapps.org/apps/RGraphCompendium/index.php}

\href{https://r-charts.com/}{r-charts.com}: ``Over 1100 graphs with reproducible code divided in 8 big categories and over 50 chart types, in addition of tools to choose and create colors and color palettes''

Cédric Scherer: \href{https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/}{A ggplot2 Tutorial for Beautiful Plotting in R}

\hypertarget{presentations}{%
\section{Presentations}\label{presentations}}

Kieran Healy : \href{https://kieranhealy.org/blog/archives/2018/03/24/making-slides/}{Making Slides}

\hypertarget{statistics}{%
\section{Statistics}\label{statistics}}

\href{https://www.discoveringstatistics.com/books/discovering-statistics-using-r/}{Discovering Statistics Using R}

Hox, J. (2010) Multilevel Analysis: Techniques and Applications

\href{https://xcelab.net/rm/statistical-rethinking/}{Statistical Rethinking: A Bayesian Course with Examples in R and Stan}

model checking package: \href{https://easystats.github.io/performance/index.html}{Performance}

\hypertarget{advanced-reading-background-other-recommends}{%
\section{Advanced Reading, Background \& Other Recommends}\label{advanced-reading-background-other-recommends}}

\href{https://data-feminism.mitpress.mit.edu/}{Data Feminism} by Catherine D'Ignazio and Lauren F. Klein. The MIT Press. 2020

Rachel Thomas's \href{https://ethics.fast.ai/syllabus}{Applied Data Ethics Syllabus}

\href{https://www.amazon.co.uk/Hands-Machine-Learning-Scikit-Learn-TensorFlow/dp/1492032646}{Hands-on Machine Learning with Scikit-Learn, Keras, and TensorFlow: Concepts, Tools, and Techniques to Build Intelligent Systems} by Aurelien Geron (2019)

\href{https://csgillespie.github.io/efficientR/}{Efficient R Programming}

SQL \href{https://db.rstudio.com/dplyr/}{Database access dplyr}

\href{https://datavizm20.classes.andrewheiss.com/lesson/}{Data Visualization course} by Dr.~Andrew Heiss of Georgia State University

\hypertarget{pedagogy}{%
\section{Pedagogy}\label{pedagogy}}

Brown, N. C., \& Wilson, G. (2018). \href{https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1006023}{Ten quick tips for teaching programming}. PLoS computational biology, 14(4), e1006023.

Hudiburgh, L. M., \& Garbinsky, D. (2020). \href{https://www.tandfonline.com/doi/full/10.1080/10691898.2020.1796399}{Data Visualization: Bringing Data to Life in an Introductory Statistics Course}. Journal of Statistics Education, 28(3), 262-279.

\hypertarget{notes}{%
\chapter{Notes}\label{notes}}

\hypertarget{credit}{%
\section{Credit}\label{credit}}

These pages based on \href{https://psyteachr.github.io/book-template/}{a template} published by the awesome \href{https://psyteachr.github.io/about/}{psyTeachR team}. Extra thanks to Lisa DeBruine for help.

\hypertarget{colophon}{%
\section{Colophon}\label{colophon}}

Find the repo here: \url{https://github.com/tomstafford/psy6422/}

Everything worked better when I:

\begin{itemize}
\tightlist
\item
  set GitHub pages to run off of Master/docs
\item
  listened to Lisa and used bookdown at the CL, not knit in Rstudio, to render the pages: \texttt{R\ -e\ \textquotesingle{}bookdown::render\_book("index.Rmd")\textquotesingle{}}
\item
  installed \href{https://cran.r-project.org/bin/linux/ubuntu/README.html}{R 3.6}
\item
  installed tidyverse, bookdown, devtools and finally \href{https://github.com/PsyTeachR/webex}{Webex}.
\end{itemize}

\hypertarget{data-science-sheffield}{%
\section{Data Science @ Sheffield}\label{data-science-sheffield}}

The \href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters/data-science}{MSc in Psychological Research Methods with Data Science}, of which \href{index.html}{this module} is a core part, is designed to teach graduate psychologists data science skills. If you don't have a psychology background our other \href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters}{MSc courses in cognitive neuroscience} can operate as ``conversion courses'', since they are designed to teach core psychology/neuroscience skills to people from non-psychology backgrounds.

Our MSc is not the only way you can study data science at the University of Sheffield. The \href{https://www.sheffield.ac.uk/postgraduate/taught/courses/2020/data-analytics-msc}{MSc in Data Analytics} is taught in the Department of Computer Science and has a stronger focus on computational tools such as machine learning. The \href{https://www.sheffield.ac.uk/postgraduate/taught/courses/2020/data-science-msc}{MSc in Data Science} is in the Information School which is in the Faculty of Social Science, and has more of a focus on business decisions and using data in organisations. We also highly recommend the \href{https://www.sheffield.ac.uk/postgraduate/taught/courses/2020/social-research-ma}{MSc in Social Research}, run by the \href{https://www.sheffield.ac.uk/smi}{Sheffield Methods Institute}, which teaches a full suite of quantative and qualatative research skills. The SMI is also home to the \href{https://www.sheffield.ac.uk/smi/postgraduate/data-analytics-society-cdt}{Data Analytics and Society Centre for Doctoral Training} which offers opportunities to undertake a 4-year funded integrated MSc and PhD.

\hypertarget{careers}{%
\section{Careers}\label{careers}}

Inside or outside of research, data management and visualisation skills will be good for your career. Unlike many high-technical skills, coding is highly accessible. Even in the world of software development, over half of programmers are \href{https://www.infoworld.com/article/2908474/stack-overflow-survey-finds-nearly-half-have-no-degree-in-computer-science.html}{self-taught}. But coding is relevant to more than just pure software jobs, \href{https://www.burning-glass.com/research-project/coding-skills/}{one report} found that 20\% of graduate-level jobs value coding as a skill, and these jobs paid on average 30\% more than other graduate jobs.

More information:

\begin{itemize}
\tightlist
\item
  \href{https://www.prospects.ac.uk/job-profiles/data-scientist}{Job profile: Data Scientist}
\item
  \href{https://targetjobs.co.uk/careers-advice/job-descriptions/454123-data-scientist-job-description}{Data Scientist: Job Description}
\item
  University of Sheffield: \href{https://www.sheffield.ac.uk/careers/careerconnect}{Career Connect}
\item
  Academic Jobs: \href{https://www.jobs.ac.uk/}{jobs.ac.uk}
\item
  University of Sheffield Careers service: \href{https://www.sheffield.ac.uk/careers/services/international}{Support for international students}
\item
  Book \& podcast: \href{https://podcast.bestbook.cool/}{Build a Career in Data Science}
\end{itemize}

\hypertarget{testimonials}{%
\section{Testimonials}\label{testimonials}}

\href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters/stories/peter-carr-1.817457}{Peter Carr}

This is the first year the \href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters/data-science}{MSc in Psychological Research Methods with Data Science} has run, so more soon!

\hypertarget{class-of-2020}{%
\chapter{Class of 2020}\label{class-of-2020}}

This was the first year for the new \href{https://www.sheffield.ac.uk/psychology/prospectivepg/masters/data-science}{MSc in Psychological Research Methods with Data Science}. PSY6422 is a key module for this course, and is designed to set students up for their independent data science project, completed over the summer.

Before they work on their summer projects, MSc students complete a mini-project on this module, and these are what is showcased below.

Most students came into this module with little or no previous experience of coding. The aim is to share powerful, flexible, computational methods which allow the production of reproducible analyses and useful data visualisations.

The module is taught via workshops, and the end point is to carry out and publish a data analysis and visualisation on a data set which interests you.

The class of 2020 was impacted by the coronavirus pandemic, which led to some classes being cancelled and the rest being moved online mid-module.

Here just a few examples of data visualisations produced by the class for their \href{docs/final-project.html}{data mini-projects}. Each project was different, and each student published their data, analysis code and visualisation as an online notebook (so please click the link for more details of each project).

Hala took open data from Sheffield city council and showed \href{https://halaaj.github.io/PSY6422/}{daily cycles in air pollution levels}

Note the spikes in N02 levels during the morning and evening rush hours.

Nabiha looked at \href{https://nabihaahmad.github.io/}{Students' Performance in Exams}

Note that these boxplots with jittered points allow you to see the group average but also the underlying data.

Rachel, looked at \href{https://rachelanthony.github.io/}{COVID-19 Deaths in England} and produced a number of animated and interactive plots which really show off the data visualisation potential of R/ggplot, including this shocking plot of regional rates of death against deprivation, which shows that the death rate in the most deprived areas was twice that of the rate in the least deprived areas. Hover over each bar for details.

\begin{center}\includegraphics[width=1\linewidth]{appendix-D_files/figure-latex/unnamed-chunk-1-1} \end{center}

Yidan's project mixed python and R and involved some highly technical work installing and querying an SQL database server. The topic, \href{https://github.com/yidanliu-psy/solo-player-skill/blob/master/visualisation.ipynb}{Skill acquisition of solo players: a case study} revealed how practice mapped to skill level in players of an online strategy game:

This is the famous learning curve, showing that players improved with practice (but at a deccelerating rate).

My unofficial prize for aesthetics in data visualisation went to Katie's project \href{https://katielmoran.github.io/PSY6422}{avocado prices, sales \& distribution across the US between 2015-2018} which used a consistent, and avocado-themed, colour scheme throughout:

Adam's project is a good illustration of the power of data visualisation - it can make salient something we might know but had not fully reckoned with. In his case, his project was on \href{https://adamscott1997.github.io/PSY6422/}{Changes in average house prices and incomes in England 1997-2019}:

His graph of the change in the ratio of average house price to average income shows just how unaffordable housing has become.

Several projects looked at topics which interested the students and for which public data was available. For example, Victoria looked at the \href{https://victoria1403.github.io/PSY6422-Final-Project/}{World Happiness Report 2019 data}, (another) Katie looked at \href{https://kamac-sheff.github.io/Caffeine/Caffeine.html}{Caffeine Intake and Mental Health}, and Eleanor looked at \href{https://eleanorhyde.github.io/}{Professional CS:GO Matches} and in particular at the performance of a professional team based in Sheffield.

Others projects used open data from published research, replicating and extending the analysis the original authors reproduced (\href{https://bessieo.github.io/Looking-At-Others/}{Bessie}, \href{https://ekhojah.github.io/Birthwight/}{Esra}, \href{https://sam-antrobus.github.io/Final_Project/}{Sam}, \href{https://lmcgrath2.github.io/PSY6422project/}{Leah})

These are just the projects which were completed and published publicly by students on the module this year (and who gave me permission to link to their work). I am immensely proud of all the work students did on this module, which was severely disrupted by the pandemic. However far you get with data analysis and visualisation there is always more you can learn, which can be daunting, but it can also be exciting because there are new things to try, new data to look and new things to find out.

\emph{Tom Stafford, July 2020}

\hypertarget{feedback}{%
\section{Feedback}\label{feedback}}

Selected feedback from the class of 2020

Coming from someone who has never coded before, I thoroughly enjoyed visualising data. I never thought I would be someone who would enjoy looking at data, but I found it but both useful and interesting to create graphs that visualise the data in a more digestible form.

Since I've never done coding to do anything before and I've only used point and click methods this is an obvious advantage of doing things this way so you can see where you went wrong and easily change it without having to start over again.

I have actually found myself enjoying a topic that I was convinced that I was going to hate, so for that I am thankful.

The topic I found most useful and interesting was the RMarkdown topic. I was initally extremely skeptical about this topic, my exact thoughts were; why would anyone use RMarkdown when Microsoft Word is available? I have since come to understand my naivety and learnt RMarkdown is an incredibly useful tool, which bridges the computational functionality of R with the ability to annotate code and create a running commentary of the analysis - amazing!

Before this module I had heard of R but not really understood its purpose or usefulness. I had assumed it was similar to SPSS, oh how wrong I was.

Very rewarding.

I am immensely proud of my visualisation project

I am oddly grateful for the struggles I experienced as I feel I have really got a sense of accomplishment out of completing the module. Before starting this Msc I'd have laughed at the idea of even understanding anything to do with coding or visualisation, but now I genuinely have an interest in it.

I found the topics of constructing and publishing projects in a reproducible way and via an open platform really interesting.

I also found learning how to handle data and construct graphs in R very useful as I have never manipulated data using coding, and it was interesting to learn how you can keep track of your working and avoid simple errors this way.

Finding yourself in completely disarray when trying to solve an unsolvable coding problem, but feeling like an absolute genius when said unsolvable problem is solved was very satisfying.

Thanks for the detailed feedback on our Data Visualisation projects! It was very thorough, some of the best feedback I've ever received while at university!!

\hypertarget{class-of-2021}{%
\chapter{Class of 2021}\label{class-of-2021}}

This was the second year for the \href{https://www.sheffield.ac.uk/postgraduate/taught/courses/2022/psychological-research-methods-data-science-msc}{MSc in Psychological Research Methods with Data Science}. The course ran entirely online, but the intention was the same - to use PSY6422 to set students up for their independent data science project, carried out over the summer, but also to ensure that they left the MSc with a complete data project they could show off as part of a portfolio.

There were too many students on the module this year to show all projects, so here are a few highlights:

Ruri made this ring plot of where doctors migrate to and from:

Full project is here: \href{https://protor23.github.io/doctors-migration-2018/}{Doctors' Migration in 2018}. She argues convincingly that some data visualisations can be valuable when they are \textbf{not} intuitive, that ultimately demanding a reader's attention to learn to decode complexity can be rewarding.

Sebastian did a fantastic job using the Spotify API to extract data on the emotional valence of the top 200 songs for 70 countries, across the year 2020. Did the global pandemic affect the mood of the songs we listened to?

Full project is here: \href{https://sebastianplnr.github.io/spotify_audio_feature_analysis/}{Visualising Valence}.

Hubert's project on two meta-analytic bias detection techniques is here: \href{https://hubertplisiecki.shinyapps.io/pcurve_vs_zcurve/}{Welcome to the showdown between two
bias detection techniques}. I'm not going to explain the visualisation here, but the project is an excellent example of data visualisation in the service of wider scientific purpose.

Alex used data from the game Overwatch to visualise how choice of game hero differed between high and low skilled players: \href{https://alexmontgomery-git.github.io/PSY6422_Project/}{Overwatch Hero Pick Rates}:

Jarod also looked at gamers, use Steam data to show how the pandemic lockdown affected our gaming habits: \href{https://jarod-wilson.github.io/psy6422/}{How COVID-19 affected gaming habits}.

A number of people made interactive visualisations, such as James, whose \href{https://jamesshuffley.shinyapps.io/ufo_app/}{US State-Wide UFO Sightings from 1970 - 2020} you really need to visit to explore, but here's a static shot:

Other interactive or animated visualisations include Halleyson's \href{https://halleyson.github.io/psy6422dataproject/}{Which Anime Studio Is The Best? An Examination Between 1958\textasciitilde2020}, Ollie's visualisation of the game trajectories from \href{https://olliebray.shinyapps.io/100YearsofChess/}{One Hundred Years of Chess} data, and Farzana's analysis of global data on happiness: \href{https://farz1313.github.io/farzana_patel_psy6422/}{The World Happiness Report 2021}. Finally, here's an animation from Juan's \href{https://jsgm21.github.io/gonzalezmartinez_psy6422_project/gonzalezmartinez_final_project}{Dementia Diagnosis Rates in England: A Data Story}.

Again, a covid-related project and a clear demonstration of the power of visualisation to surface an important story.

Overall, I was proud of every student who struggled with R and the circumstances of the pandemic to produce a visualisation for this module. My sense from the feedback was that most people enjoyed themselves more than they thought they would, and ended up pleased with what they produced and the new skills they take forward from the module

\hypertarget{feedback-1}{%
\section{Feedback}\label{feedback-1}}

Here is some selected feedback from the class of 2021.

When first planning this project and working with R, I was convinced that I wouldn't be able complete the module. I pushed myself to the very best of my ability and I am proud that I was able to carry out my initial plan and complete the task. Starting this module, I had an interest in climate topics, and I am glad that I was able to use my new-found skills to make a sophisticated climate themed visualisation project at master's level. I will reflect on this module with fondness whilst simultaneously wondering how I managed to reach the end. I'm grateful to have gained my current skills - whilst they still require much improvement, I look forward to further improving as I go forward.

every topic was relevant, interesting and engaging and clearly linked to the overall aims of the course.

``This was one of my favourites modules throughout my undergraduate and postgraduate studies\ldots I am delighted that this is a free platform and I will be able to use it even after finishing''

The magic of data analysis and visualization relies in sharing your data and findings among other scientists and for anyone to access and see. Sharing data allows other people to replicate it, refine it, learn from it or even get inspired by it and create their own. Science should be shared and using these platforms and programs is crucial to achieve so.

``Gaining a coding foundation and an understanding of how to use the statistical programming language of R to create detailed visualisations was extremely useful, and has provided me with another skillset that will enable me to go on to create and develop further in-depth visualisations in any future research projects''

\hypertarget{class-of-2022}{%
\chapter{Class of 2022}\label{class-of-2022}}

This was the third year for the \href{https://www.sheffield.ac.uk/postgraduate/taught/courses/2022/psychological-research-methods-data-science-msc}{MSc in Psychological Research Methods with Data Science}. The classes were back in person and we cracked on with the core motivation of PSY6422 - to set students up for their independent data science project, carried out over the summer, but also to ensure that they left the MSc with a complete data project they could show off as part of a portfolio.

\hypertarget{module-project-showcase}{%
\section{Module project showcase}\label{module-project-showcase}}

There were too many students on the module this year to show all projects, so here are a few highlights. Many creative, fun, interesting, challenging visualisation projects were produced but aren't shown here, but these few give a flavour of what student's got up to:

Florence's project looked at \href{https://fsgwilliams.github.io/Data-Visualisation/}{Gender bias in the cover personalities of TIME Magazine (1920-2013)}
\href{https://github.com/fsgwilliams/Data-Visualisation}{Pages}

Gemma's project was ``Female labour force participation rates over the Last 100 Years''
\href{http://rpubs.com/Gem-Hall/896578}{Pages}
\href{https://github.com/Gem-Hall/PSY6422_project.git}{Repo}

Yibo looked at \href{https://yshi81.github.io/Causes-of-death-in-the-world.github.io/}{Causes of death in the world}, \href{https://github.com/Yshi81/Causes-of-death-in-the-world.github.io}{Pages}

Peter's project shows character preference for the Overwatch League 2019
\href{https://peterbeech.github.io/PSY6422_project/}{Pages}
\href{https://github.com/PeterBeech/PSY6422_project}{Repo}

Luke's project is an interactive visualisation which allows you to explore ``Global Levels of GDP per Capita, Population Density and Covid-19 Lockdown Severity, and their Relation to World Happiness''
\href{https://c6gp2m-luke-jenner.shinyapps.io/PSY6422_Project/}{Pages} \href{https://github.com/lukejenner6/PSY6422_Project}{Repo}

This project looked at ``Covid-19-immunised to total region population ratio in the Czech Republic''
\href{https://yorkshireorange.github.io/PSY6422/}{Pages}
\href{https://github.com/yorkshireorange/PSY6422}{Repo}

Ben looked at \href{https://ben-pw.github.io/PSY6422_Project/}{Efficacy of Self Testing - comparing two Covid 19 prevalence metrics across stages of the pandemic in England}; \href{https://github.com/Ben-PW/PSY6422_Project}{Pages}

Natasha: \href{https://natasharobinson2603.github.io/PSY6422_finalproject/}{A stacked bar plot showing likert scale responses to imagined traumatic scenarios},
\href{https://github.com/NatashaRobinson2603/PSY6422_finalproject}{Pages}

Other projects looked \href{https://hvlabat.shinyapps.io/nhs_income_vs_inflation/}{at the income of UK doctors compared to inflation over the last 12 years}, \href{https://github.com/hvlabat/nhs_income_vs_inflation}{Pages}; a \href{https://meicalowen.github.io/PSY6422-Data-Visualisation/}{A History of Pitchfork Reviews}, \href{https://github.com/meicalowen/PSY6422-Data-Visualisation}{Pages}; Kieran's project looked at the effect of losing crowds on football scores: \href{https://kietag.shinyapps.io/home-advantage-covid-19-app/}{Home Advantage and Covid-19: Football's Natural Experiment}, \href{https://github.com/Kietag/Home-Advantage-Covid-19-App}{Pages}

\hypertarget{advice-for-future-students}{%
\section{Advice for future students}\label{advice-for-future-students}}

As part of the module assessment I asked those who took the module ``what advice would you give someone starting this course?''. Here's what they said:

its not as hard as you think it will be, you learn pretty quick, google helps a lot, start work on it early.

I would definitely say choose a project topic that you are interested in. I have (quite tragically) loved every minute of developing my project since I am quite interested in the topic and found myself very invested in the outcome of the project.

Try not to get frustrated! I didn't have any coding experience before starting this course, and you will be surprised at how far you can push yourself. If you told me I would be making an interactive plot at the start of this module I would've laughed.

Coding is less about technical skill, and more about mentality. It requires a great deal of patience to manage errors, and even greater patience to Google and self teach the code required to attain your goal. Mastering coding is less about knowing syntax off by heart, but having an effective procedure for accessing resources and managing problems when they arise.

The one advice I would give to someone starting this course is to not be afraid to ask questions. I initially felt out of place and that I should not ask questions as it would expose the fact that I am a beginner at coding. However, there are many people that are beginners in this course, and it is better to ask questions than not understand, especially when doing the final project.

Google will solve many of your problems (such as when trying to write code, or fix technical issues and errors). Keep everything organised (including code, and files. This will make it far more manageable). Don't get frustrated if something doesn't work at first (either look for help online, or ask someone).

I would say to attend every class and make the most of them by asking for help if needed. I have a habit of giving up straight away if I do not understand anything so struggled a lot in class, which made it harder when it came to the final project. However, after a lot of hard work I have managed to create something I am proud of and never thought I'd be able to accomplish, so if I can do it anyone can!

The course stimulates independent learning, so I would advise everyone to be curious and go after things they find interesting. I would advise future students to ask about everything they are interested in during the workshops - looking things up and troubleshooting takes much longer when one needs to do it alone. Finally, I would encourage everyone to meet up with their peers to discuss their work - they can get a lot of good ideas from the others, and their perspective, too.

Working with a partner from the beginning is also really nice because it makes it so much more enjoyable, and you don't feel like you're being left behind if there's two of you at the same level.

It is helpful to find a friend to code with, especially one who might have more experience than you who can guide you when you are stuck.

First and foremost, I would say not to panic and get discouraged, especially when had some coding in the past and did not necessarily like it. The learning process takes time, just like with any language, you need to understand its rules. In the end, you will code and visualise what you want, even exceeding your initial expectations.

Firstly, don't be afraid to write code and think positively about the meaning of each statement. Secondly, talk to Tom and Luke a lot as that is a very helpful thing to do. Finally, mastering the content of this course will help a lot in whatever industry you enter in the future.

Be patient and don't panic. When I first started coding, I would get hung up on every small error and get really frustrated. As I started to code for my final project, I realised that errors aren't always big problems, it could be something as small as a comma in the wrong place. In my opinion, coding is as much about patience and detail detection as it is about skill. I would also suggest to someone starting the course to not expect the skills to develop immediately. It was only once I began to put together the skills that I learned throughout the course that everything began to piece together and slowly make sense.

It will be very challenging and sometimes quite stressful, but the outcome is something you'll really be proud of if you stick with and push through. Overall, I really enjoyed this module and I now understand the thrill coders get when they've been stuck on a problem for a while and finally get their code to work.

Get involved. Coding can be really scary at first, but you will get as much out of it that you put into it. Plus, there is a genuine feeling of accomplishment once you get your head around some of the concepts involved in coding!

Google is your friend! There are endless help forums online offering advice and snippets of code that can help fix/create code to produce amazing plots. A lot of forums often give alternative work rounds for code that may not be parsing or rendering correctly, with explanations, offering an alternate route if you are stuck. If you can imagine it, there's generally a code for that somewhere online!

I would recommend, especially if this is the student's first experience with the data visualisation process, to study regularly instead of just a few days before the submission of the final project. It can be helpful to break up extensive thematic sections into smaller chapters. For example, instead of learning all the functions of ggplot2, it would be better to learn how to use a specific layer, such as ``geom\_bar()'', at a time.

Yes it's daunting, and yes it's challenging especially if you have no experience, but don't let it stop you. Once you start engaging properly in this module you'll learn it quickly and start to love it

\hypertarget{one-thing-you-have-read-and-enjoyed-or-found-useful}{%
\section{``one thing you have read and enjoyed or found useful''}\label{one-thing-you-have-read-and-enjoyed-or-found-useful}}

I also asked the students for recommended reading:

\hypertarget{general-visualisation}{%
\subsection{General Visualisation}\label{general-visualisation}}

Video: \href{https://www.youtube.com/watch?v=Iwpi1Lm6dFo}{How to avoid death By PowerPoint} \textbar{} David JP Phillips \textbar{} TEDxStockholmSalon

Schwabish, J. (2021, Feb 8). \href{https://policyviz.\%20com/2021/02/08/five-charts-youve-never-used-but-should/}{Five Charts You've Never Used but Should}. PolicyViz.

``Data to Viz leads you to the most appropriate graph for your data. It links to the code to build it and lists common caveats you should avoid'' \href{https://www.data-to-viz.com/}{data-to-viz.com/}

Visual Vocabulary: Designing with data \href{https://ft-interactive.github.io/visual-vocabulary/}{ft-interactive.github.io/visual-vocabulary/}

Economist.com \href{https://medium.economist.com/mistakes-weve-drawn-a-few-8cdd8a42d368}{Mistakes, we've drawn a few: Learning from our errors in data visualisation}

Cairo, A (2012). \href{http://www.thefunctionalart.com/}{The functional art: an introduction to information graphics and visualisation} (1 st ed.). New Riders.

IBM.com: \href{https://ibm.com/cloud/learn/data-visualization}{Learn how data visualization can improve understanding and analyses, enabling better and faster decision making.}

\hypertarget{r-specific-advice}{%
\subsection{R specific advice}\label{r-specific-advice}}

Ruggeri, G. (2021, January 29). Better data communication with \{GGPLOT2\}{]}(\url{https://giulia-ruggeri.medium.com/better-data-communication-with-ggplot2-92fbcfea2c6e}). Medium.

Datanovia: ``\href{https://www.datanovia.com/en/blog/top-r-color-palettes-to-know-for-great-data-\%20visualization/}{TOP R COLOR PALETTES TO KNOW FOR GREAT DATA VISUALIZATION}'' extremely useful for the choice of the most appropriate colour palette for my final project ().

DeBruine, L. \& Barr, D. (2019). \href{https://psyteachr.github.io/msc-data-skills/}{Data Skills for Reproducible Science} (1.0.0). Zenodo. \url{https://doi.org/} 10.5281/zenodo.3564555

PDF: RStudio: \href{https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf}{Data Wrangling Cheatsheet}

r-statistics.co by Selva Prabhakaran \href{http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html}{Top 50 ggplot2 Visualizations}

Wickham, H. (2016). \href{https://ggplot2-book.org/}{ggplot2: Elegant Graphics for Data Analysis}. (2 nd ed.). Springer.

Holtz, Y. (2022). \href{https://r-graph-gallery.com}{The R Graph Gallery -- Help and inspiration for R charts}

\href{https://bbs.pinggu.org/forum-69-1.html}{Chinese R language forum}

discovr: a package of interactive tutorials \href{discovr.rocks/discovr/}{https://www.discovr.rocks/discovr/}

\hypertarget{markdown}{%
\subsection{Markdown}\label{markdown}}

dataquest.io: \href{https://www.dataquest.io/blog/r-markdown-guide-cheatsheet/}{R Markdown cheatsheet}

\href{https://bookdown.org/yihui/rmarkdown/}{bookdown.org/yihui/rmarkdown/}

\hypertarget{advanced-r-packages}{%
\subsection{Advanced R packages}\label{advanced-r-packages}}

Paldhous, (2016). \href{https://paldhous.github.io/ucb/2016/dataviz/week13.html.}{`From R to interactive charts and maps'}

\href{https://data.library.virginia.edu/creating-a-sqlite-database-for-use-with-r/}{Creating a SQLite database for use with R}

Hailperin, K. (2019). \href{https://ugoproto.github.io/ugo_r_doc/pdf/gganimate.pdf}{Animate ggplots with gganimate:: CHEAT SHEET}

\href{https://psyteachr.gith\%20ub.io/shiny-tutorials/01-first-app.html.}{Shiny Tutorials}. Psyteachr.github.io.

R Studio: \href{https://shiny.rstudio.com/tutorial/}{Learn Shiny}

Mastering Shiny: \href{https://mastering-shiny.org/index.html}{mastering-shiny.org/index.html}
* Particularly \href{https://mastering-shiny.org/reactivity-objects.html}{mastering-shiny.org/reactivity-objects.html}

\hypertarget{general-coding-projects-reproducibility}{%
\subsection{General coding / projects / reproducibility}\label{general-coding-projects-reproducibility}}

\url{https://www.geeksforgeeks.org}

PDF: Jenny Bryan's ``\href{www2.stat.duke.edu/~rcs46/lectures_2015/01-markdown-git/slides/naming-slides/naming-slides.pdf}{Naming Things}'' produced for a `Reproducible Science Workshop'.

\href{https://stackoverflow.com/}{stackoverflow.com} (``any errors that I had somebody else most likely had the same and there was always a few different solutions provided.'')

\begin{itemize}
\tightlist
\item
  e.g Krabel, T. (2018). \href{https://stackoverflow.\%20com/questions/50067301/make-plotly-annotation-font-bold}{Make plotly annotation font bold}
\item
  e.g \href{https://stackoverflow.com/questions/34605919/formatting-mouse-over-labels-in-plotly-when-using-ggplotly}{Formatting mouse over labels in plotly when using ggplotly}
\end{itemize}

Broman, K. W., \& Woo, K. H. (2018). \href{https://kbroman.org/dataorg/}{Data organization in spreadsheets.} The American Statistician, 72(1), 2-10.

\hspace{0pt}

\hypertarget{feedback-on-the-module}{%
\section{Feedback on the module}\label{feedback-on-the-module}}

Here is some selected feedback from the class of 2022.

I went from not knowing how to code to creating my own data-wrangling script in the span of a few months, and I owe it to the teaching style employed during our sessions

I really enjoyed the freedom to self direct on this course. Spending hours trying to learn how to properly implement a function correctly became a lot more satisfying when I was working on a project of my own design.

For the first time in my life, I really liked the `homework' exercises. The mini projects such as the anscombe one really helped me work with R because there was a goal and something tangible to work with. I find it quite challenging to `think' about how to code something, but having hands on experience with data really helps contextualize it for me so I was able to translate those skills to my own project!

I have enjoyed this course and feel it will be beneficial for my career in the future. The lab classes helped my learning but it was also crucial that I had access to video run-throughs of some sections like publishing as these aided me when I was struggling. I was very pleased with how clear the expectations were throughout the course; the distinct parts of the coursework were broken down clearly and explained giving me a good understanding of how I needed to approach the task.

This course gave me a great understanding of the impact visualizations can have within your research.

Tom and Luke's help was invaluable. Having two people within the class that could guide us made all the difference when facing certain problems.

I really enjoyed the final project. During classes I struggled a lot with the content but the final project I was able to go over everything we had learnt in my own time and understand it fully. This gave me a massive sense of accomplishment

I strongly believe that showing live demonstrations of the coding was a very beneficial way of learning. This is because it allowed us to go back and watch the recording if we were stuck; listening to the explanations of the code, and why some things are done in certain ways, allowed me to further my understanding in this field a lot faster as I did not find myself stuck on the basic things. Furthermore, I also found it beneficial that there was some room for self-teaching, in terms of the more advanced topics. This is because it allowed us to set a threshold as to how much coding we could take on and understand, without being overwhelming. It allowed me to push myself only if I thought I could handle it, and then produce a visualisation that I was proud to show friends and family. This is extremely advantageous as it also demonstrates my ability to take on new challenges.

Specifically, I appreciated the opportunity to ask Tom and Luke questions in-person when I was confused, as they helped me understand the philosophy behind how one should approach coding issues; they didn't just tell me the answer -- which would have crippled me in the long term -- they gave me hints on how I could solve it myself.

  \bibliography{book.bib,packages.bib}

\end{document}
